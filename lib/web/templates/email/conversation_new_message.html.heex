<div class="container">
  <p><%= Mobilizon.Web.Gettext.dgettext("activity", "Hello,") %></p>

  <p>
    <%= Mobilizon.Web.Gettext.dgettext("activity",
      "You have received a new message from %{sender}:",
      sender: @sender_name
    ) %>
  </p>

  <div class="message-content" style="margin: 20px 0; padding: 15px; background-color: #f5f5f5; border-left: 4px solid #6366f1; border-radius: 4px;">
    <p style="margin: 0;">
      <strong><%= @sender_name %></strong>
      <%= if @sender.preferred_username do %>
        <span style="color: #6b7280;">@<%= Mobilizon.Actors.Actor.preferred_username_and_domain(@sender) %></span>
      <% end %>
    </p>
    <div style="margin-top: 10px; white-space: pre-wrap;"><%= @message_text %></div>
  </div>

  <table class="btn btn-primary" cellpadding="0" cellspacing="0" role="presentation" style="margin-bottom: 16px;">
    <tbody>
      <tr>
        <td align="left">
          <table cellpadding="0" cellspacing="0" role="presentation">
            <tbody>
              <tr>
                <td>
                  <a href={"#{Mobilizon.Web.Endpoint.url()}/conversations/#{@conversation.id}"} target="_blank">
                    <%= Mobilizon.Web.Gettext.dgettext("activity", "View conversation") %>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
    </tbody>
  </table>

  <p style="color: #6b7280; font-size: 0.875rem;">
    <%= Mobilizon.Web.Gettext.dgettext("activity", "You are receiving this email because you are a participant in this conversation.") %>
  </p>
</div>
