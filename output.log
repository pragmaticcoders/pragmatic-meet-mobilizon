    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:continue, :handle_connection}
State: {%ThousandIsland.Socket{socket: #Port<0.237>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.214145>, start_time: -576459236133224561, start_metadata: %{remote_port: 39912, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.214145>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9049>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.InitialHandler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true}}
request_id=GF75APelpoes4j4AADjB [info] GET /
request_id=GF75APelpoes4j4AADjB [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => []}
  Pipelines: [:browser]
request_id=GF75APelpoes4j4AADjB [debug] Locale detected is en
request_id=GF75APelpoes4j4AADjB [info] Sent 200 in 2ms
request_id=GF75AT9VB1QNptUAADjh [info] GET /auth/linkedin
request_id=GF75AT9VB1QNptUAADjh [debug] Processing with Mobilizon.Web.AuthController.request/2
  Parameters: %{"provider" => "linkedin"}
  Pipelines: [:browser]
request_id=GF75AT9VB1QNptUAADjh [debug] Locale detected is en
request_id=GF75AT9VB1QNptUAADjh [info] Handling LinkedIn OAuth request with direct implementation
request_id=GF75AT9VB1QNptUAADjh [info] LinkedIn OAuth: Generating authorization URL
request_id=GF75AT9VB1QNptUAADjh [debug] LinkedIn OAuth: Authorization parameters: [
  scope: "openid profile email",
  state: "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA"
]
request_id=GF75AT9VB1QNptUAADjh [debug] LinkedIn OAuth: Client configuration: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: nil,
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75AT9VB1QNptUAADjh [info] LinkedIn OAuth: Generated authorization URL: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA
request_id=GF75AT9VB1QNptUAADjh [info] Redirecting to LinkedIn OAuth: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA
request_id=GF75AT9VB1QNptUAADjh [info] Sent 302 in 1ms
request_id=GF75AVRnrugNptUAADkB [info] GET /auth/linkedin/callback
request_id=GF75AVRnrugNptUAADkB [debug] Processing with Mobilizon.Web.AuthController.callback/2
  Parameters: %{"code" => "AQQZXgXknnvYCnbQlM-jVkQhMXEjUDlTN9FGb28VRGyVfgkIlBRnLkMHBhgnZBmq_OO5qFXJih661XeKk6BxAjMylrIEUg6rc7Qp-pHg7ElAgAjUuYnwrc_NM-JLD1JKXXxaPZa3RMQ04un184k2R2-VdHUuIT3hj_ehLVCnZbCame_ZU23cjZIGSI69VxAJJ2uaHL8R9YK_uPt2Gak", "provider" => "linkedin", "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA"}
  Pipelines: [:browser]
request_id=GF75AVRnrugNptUAADkB [debug] Locale detected is en
request_id=GF75AVRnrugNptUAADkB [info] Processing LinkedIn OAuth callback with direct implementation
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn callback params: %{
  "code" => "AQQZXgXknnvYCnbQlM-jVkQhMXEjUDlTN9FGb28VRGyVfgkIlBRnLkMHBhgnZBmq_OO5qFXJih661XeKk6BxAjMylrIEUg6rc7Qp-pHg7ElAgAjUuYnwrc_NM-JLD1JKXXxaPZa3RMQ04un184k2R2-VdHUuIT3hj_ehLVCnZbCame_ZU23cjZIGSI69VxAJJ2uaHL8R9YK_uPt2Gak",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA"
}
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: Received callback with code and state
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Authorization code (first 20 chars): AQQZXgXknnvYCnbQlM-j...
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: State parameter: SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Full callback params: %{
  "code" => "AQQZXgXknnvYCnbQlM-jVkQhMXEjUDlTN9FGb28VRGyVfgkIlBRnLkMHBhgnZBmq_OO5qFXJih661XeKk6BxAjMylrIEUg6rc7Qp-pHg7ElAgAjUuYnwrc_NM-JLD1JKXXxaPZa3RMQ04un184k2R2-VdHUuIT3hj_ehLVCnZbCame_ZU23cjZIGSI69VxAJJ2uaHL8R9YK_uPt2Gak",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZ5YTh0X0o4Q0NVaDBkOUtERHJxNG5BbQAAAAl0aW1lc3RhbXBiaKwvAG4GANuZl-CYAWIAAVGA.zYVgm42YmG0WOM65CZ-Djr3vVGVV8lWphLX1aTsU9FA"
}
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Request headers: %{
  "accept" => "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
  "accept-encoding" => "gzip, deflate, br, zstd",
  "accept-language" => "en-US,en;q=0.9,pl;q=0.8",
  "cache-control" => "no-cache",
  "connection" => "keep-alive",
  "host" => "localhost:4000",
  "pragma" => "no-cache",
  "referer" => "http://localhost:4000/",
  "sec-ch-ua" => "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"",
  "sec-ch-ua-mobile" => "?0",
  "sec-ch-ua-platform" => "\"macOS\"",
  "sec-fetch-dest" => "document",
  "sec-fetch-mode" => "navigate",
  "sec-fetch-site" => "cross-site",
  "sec-fetch-user" => "?1",
  "upgrade-insecure-requests" => "1",
  "user-agent" => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth state verified successfully
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: Starting authentication flow
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: Token exchange attempt 1/3
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Token exchange request parameters: [
  code: "AQQZXgXknnvYCnbQlM-jVkQhMXEjUDlTN9FGb28VRGyVfgkIlBRnLkMHBhgnZBmq_OO5qFXJih661XeKk6BxAjMylrIEUg6rc7Qp-pHg7ElAgAjUuYnwrc_NM-JLD1JKXXxaPZa3RMQ04un184k2R2-VdHUuIT3hj_ehLVCnZbCame_ZU23cjZIGSI69VxAJJ2uaHL8R9YK_uPt2Gak",
  grant_type: "authorization_code",
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw=="
]
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Making token request to: https://www.linkedin.com/oauth/v2/accessToken
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Client ID: 77es95oq72tify
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Redirect URI: http://localhost:4000/auth/linkedin/callback
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: Token exchange successful on attempt 1
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Received token: %OAuth2.AccessToken{
  access_token: "AQUzB_rWi9sKzCORWDlXwMe2EqqApXuoc6nPr5ZQprJyIaMsTT-lmSIHvpeYL1Gs7O-5i-q5TtOuzRD9p8gxo316rsHGiWq2sLTyYZHBENOSoV6pU-3wX1mYbMZsijV5csqDiB5KFZgsXMeQHAeo9h3OEDQPTW8HLtGqoU2PmVwDVwQpbIT1YpBXJX3GZ27P-lzbgPX5ET3y2vpCJvh-6rqfsrf8Ne7FkS_s4PBuJ9l71ipciBF2l-K6EXnhimX2Sv8ZWpAd2JrxwZPMj92ncEZjtaIgdHafa3HoLZv8_5OzifDHYsJvc0fHulEYorEF2l559yhINWj_MPKX3R34j0sgy33dvg",
  refresh_token: nil,
  expires_at: 1761298688,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDY4OSwiZXhwIjoxNzU2MTE4Mjg5LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.QR0697Tgpd4-owroa1TERiXVHp3L-uWGgxovVPBWGSPKb4a_0eTXUGHd7UQ5MKFkFVMq0zC2Q-E0VRU46QtqBeJRLaSgBGU1LpAvvD1cpfifQkdyHzJTahdTJfLOuE6RLOQIJTnihTVq5GLR_xdXN9QtonrUOkVVn5GLfUd3mWWZPL4toYwKXlQsMnBApgnVgKfGSWtlTeyt3D7jFFKCIKey0PKBgRWAEj92QVBoAkQogulaiLUp4_vOKdB9Q74qvSbwn_WrKIWXSmeT4AVPaaCUViTthpM5AmX-UVjuXrGR9mtGzKbF3UP8_m99nfFgNbJNVSBGmpFuOaAtPXy1r7nYUtDQXcGq_rp9M4dXQR0j0iH-YOJz9ohxinCzNvjQDRxvhGCaNdN9A7H6CzaTFX6I73y80EKlOr7VLCXlScsEotGB3aBx1eIKaMvG4osbbYMOOGzQMSaPMU053IsM_xLhXp6Oi1DPIvIEZD59HI-lSIQIlLX08JDWZrmtsWrWeyabT2GMlEk_F8Bc3S4thT-44gQ-nJCwLAp2PRkr3e-e2SDwiOPFFuzORm3yvz0_wFAqp5Fk-fVktt4xOU4m1VDbpRo-YhDfQTEE_4lpXogkoAgktuVWiE2P6vaB93SGSwSj291oe-GOBZrgflqulqlXZe-lGtQeOdBO6Ee1puI",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Full client result: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: %OAuth2.AccessToken{
    access_token: "AQUzB_rWi9sKzCORWDlXwMe2EqqApXuoc6nPr5ZQprJyIaMsTT-lmSIHvpeYL1Gs7O-5i-q5TtOuzRD9p8gxo316rsHGiWq2sLTyYZHBENOSoV6pU-3wX1mYbMZsijV5csqDiB5KFZgsXMeQHAeo9h3OEDQPTW8HLtGqoU2PmVwDVwQpbIT1YpBXJX3GZ27P-lzbgPX5ET3y2vpCJvh-6rqfsrf8Ne7FkS_s4PBuJ9l71ipciBF2l-K6EXnhimX2Sv8ZWpAd2JrxwZPMj92ncEZjtaIgdHafa3HoLZv8_5OzifDHYsJvc0fHulEYorEF2l559yhINWj_MPKX3R34j0sgy33dvg",
    refresh_token: nil,
    expires_at: 1761298688,
    token_type: "Bearer",
    other_params: %{
      "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDY4OSwiZXhwIjoxNzU2MTE4Mjg5LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.QR0697Tgpd4-owroa1TERiXVHp3L-uWGgxovVPBWGSPKb4a_0eTXUGHd7UQ5MKFkFVMq0zC2Q-E0VRU46QtqBeJRLaSgBGU1LpAvvD1cpfifQkdyHzJTahdTJfLOuE6RLOQIJTnihTVq5GLR_xdXN9QtonrUOkVVn5GLfUd3mWWZPL4toYwKXlQsMnBApgnVgKfGSWtlTeyt3D7jFFKCIKey0PKBgRWAEj92QVBoAkQogulaiLUp4_vOKdB9Q74qvSbwn_WrKIWXSmeT4AVPaaCUViTthpM5AmX-UVjuXrGR9mtGzKbF3UP8_m99nfFgNbJNVSBGmpFuOaAtPXy1r7nYUtDQXcGq_rp9M4dXQR0j0iH-YOJz9ohxinCzNvjQDRxvhGCaNdN9A7H6CzaTFX6I73y80EKlOr7VLCXlScsEotGB3aBx1eIKaMvG4osbbYMOOGzQMSaPMU053IsM_xLhXp6Oi1DPIvIEZD59HI-lSIQIlLX08JDWZrmtsWrWeyabT2GMlEk_F8Bc3S4thT-44gQ-nJCwLAp2PRkr3e-e2SDwiOPFFuzORm3yvz0_wFAqp5Fk-fVktt4xOU4m1VDbpRo-YhDfQTEE_4lpXogkoAgktuVWiE2P6vaB93SGSwSj291oe-GOBZrgflqulqlXZe-lGtQeOdBO6Ee1puI",
      "scope" => "email,openid,profile"
    }
  },
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: User info fetch attempt 1/3
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Making user info request to: https://api.linkedin.com/v2/userinfo
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Request headers: [
  {"Authorization",
   "Bearer AQUzB_rWi9sKzCORWDlXwMe2EqqApXuoc6nPr5ZQprJyIaMsTT-lmSIHvpeYL1Gs7O-5i-q5TtOuzRD9p8gxo316rsHGiWq2sLTyYZHBENOSoV6pU-3wX1mYbMZsijV5csqDiB5KFZgsXMeQHAeo9h3OEDQPTW8HLtGqoU2PmVwDVwQpbIT1YpBXJX3GZ27P-lzbgPX5ET3y2vpCJvh-6rqfsrf8Ne7FkS_s4PBuJ9l71ipciBF2l-K6EXnhimX2Sv8ZWpAd2JrxwZPMj92ncEZjtaIgdHafa3HoLZv8_5OzifDHYsJvc0fHulEYorEF2l559yhINWj_MPKX3R34j0sgy33dvg"}
]
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Access token (first 20 chars): AQUzB_rWi9sKzCORWDlX...
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: User info fetch successful on attempt 1
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: User info response headers: [
  {"Content-Type", "application/json"},
  {"x-restli-protocol-version", "1.0.0"},
  {"Date", "Mon, 25 Aug 2025 09:38:09 GMT"},
  {"Transfer-Encoding", "chunked"},
  {"Connection", "keep-alive"},
  {"X-Li-Fabric", "prod-lva1"},
  {"X-Li-Pop", "prod-lva1-x"},
  {"X-LI-Proto", "http/1.1"},
  {"X-LI-UUID", "AAY9LVA7if7C6niY5PJUNA=="},
  {"Set-Cookie",
   "bcookie=\"v=2&5fb0163c-a142-4ea8-81c2-c9d0bbb17eeb\"; Domain=.linkedin.com; Expires=Tue, 25-Aug-2026 09:38:09 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "li_gc=MTswOzE3NTYxMTQ2ODk7MjswMjEGsxFZ33YqgPW5prif0wtSzKVhTJVZk0PQKTdFPbWk4A==; Domain=.linkedin.com; Expires=Sat, 21 Feb 2026 09:38:09 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "lidc=\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114689:t=1756137693:v=2:sig=AQFWqqtyfueTyqayU1ghkkT6gybAOSSj\""},
  {"X-LI-Route-Key",
   "\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114689:t=1756137693:v=2:sig=AQFWqqtyfueTyqayU1ghkkT6gybAOSSj\""}
]
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: User info response body: {"sub":"Ssxx_xIIFl","email_verified":true,"name":"Paweł Miżwa","locale":{"country":"PL","language":"pl"},"given_name":"Paweł","family_name":"Miżwa","email":"pawel.mizwa@gmail.com","picture":"https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4"}
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Decoded user info: %{
  "email" => "pawel.mizwa@gmail.com",
  "email_verified" => true,
  "family_name" => "Miżwa",
  "given_name" => "Paweł",
  "locale" => %{"country" => "PL", "language" => "pl"},
  "name" => "Paweł Miżwa",
  "picture" => "https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4",
  "sub" => "Ssxx_xIIFl"
}
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth: Authentication successful for pawel.mizwa@gmail.com
request_id=GF75AVRnrugNptUAADkB [info] LinkedIn OAuth authentication successful for pawel.mizwa@gmail.com
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Complete user info received: %{
  "email" => "pawel.mizwa@gmail.com",
  "email_verified" => true,
  "family_name" => "Miżwa",
  "given_name" => "Paweł",
  "locale" => %{"country" => "PL", "language" => "pl"},
  "name" => "Paweł Miżwa",
  "picture" => "https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4",
  "sub" => "Ssxx_xIIFl"
}
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Token info: %OAuth2.AccessToken{
  access_token: "AQUzB_rWi9sKzCORWDlXwMe2EqqApXuoc6nPr5ZQprJyIaMsTT-lmSIHvpeYL1Gs7O-5i-q5TtOuzRD9p8gxo316rsHGiWq2sLTyYZHBENOSoV6pU-3wX1mYbMZsijV5csqDiB5KFZgsXMeQHAeo9h3OEDQPTW8HLtGqoU2PmVwDVwQpbIT1YpBXJX3GZ27P-lzbgPX5ET3y2vpCJvh-6rqfsrf8Ne7FkS_s4PBuJ9l71ipciBF2l-K6EXnhimX2Sv8ZWpAd2JrxwZPMj92ncEZjtaIgdHafa3HoLZv8_5OzifDHYsJvc0fHulEYorEF2l559yhINWj_MPKX3R34j0sgy33dvg",
  refresh_token: nil,
  expires_at: 1761298688,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDY4OSwiZXhwIjoxNzU2MTE4Mjg5LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.QR0697Tgpd4-owroa1TERiXVHp3L-uWGgxovVPBWGSPKb4a_0eTXUGHd7UQ5MKFkFVMq0zC2Q-E0VRU46QtqBeJRLaSgBGU1LpAvvD1cpfifQkdyHzJTahdTJfLOuE6RLOQIJTnihTVq5GLR_xdXN9QtonrUOkVVn5GLfUd3mWWZPL4toYwKXlQsMnBApgnVgKfGSWtlTeyt3D7jFFKCIKey0PKBgRWAEj92QVBoAkQogulaiLUp4_vOKdB9Q74qvSbwn_WrKIWXSmeT4AVPaaCUViTthpM5AmX-UVjuXrGR9mtGzKbF3UP8_m99nfFgNbJNVSBGmpFuOaAtPXy1r7nYUtDQXcGq_rp9M4dXQR0j0iH-YOJz9ohxinCzNvjQDRxvhGCaNdN9A7H6CzaTFX6I73y80EKlOr7VLCXlScsEotGB3aBx1eIKaMvG4osbbYMOOGzQMSaPMU053IsM_xLhXp6Oi1DPIvIEZD59HI-lSIQIlLX08JDWZrmtsWrWeyabT2GMlEk_F8Bc3S4thT-44gQ-nJCwLAp2PRkr3e-e2SDwiOPFFuzORm3yvz0_wFAqp5Fk-fVktt4xOU4m1VDbpRo-YhDfQTEE_4lpXogkoAgktuVWiE2P6vaB93SGSwSj291oe-GOBZrgflqulqlXZe-lGtQeOdBO6Ee1puI",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75AVRnrugNptUAADkB [info] Processing LinkedIn user: pawel.mizwa@gmail.com
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Extracted email: pawel.mizwa@gmail.com
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Extracted name: Paweł Miżwa
request_id=GF75AVRnrugNptUAADkB [debug] LinkedIn OAuth: Extracted username: Ssxx_xIIFl
request_id=GF75AVRnrugNptUAADkB [debug] QUERY OK source="users" db=2.5ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE ((u0."email" = 'pawel.mizwa@gmail.com')) OR (u0."unconfirmed_email" = 'pawel.mizwa@gmail.com')
request_id=GF75AVRnrugNptUAADkB [info] Found existing user for pawel.mizwa@gmail.com
request_id=GF75AVRnrugNptUAADkB [debug] QUERY OK source="guardian_tokens" db=7.6ms
INSERT INTO "guardian_tokens" ("exp","sub","claims","aud","iss","jti","jwt","typ","inserted_at","updated_at") VALUES (1761298689,'User:41','{"aud":"mobilizon","exp":1761298689,"iat":1756114689,"iss":"mobilizon","jti":"79c6a247-90e0-4b56-b74f-02a702d9001b","nbf":1756114688,"sub":"User:41","typ":"refresh"}','mobilizon','mobilizon','79c6a247-90e0-4b56-b74f-02a702d9001b','eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg2ODksImlhdCI6MTc1NjExNDY4OSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiNzljNmEyNDctOTBlMC00YjU2LWI3NGYtMDJhNzAyZDkwMDFiIiwibmJmIjoxNzU2MTE0Njg4LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.i1sKu5FfMKdM_d8pH8bfH62vR3Ypyssv0fc4TB7IJ7bOjV5vV5b6FlSTtI7wvm6e68e6BueN9nCg2WZn9AbBSA','refresh','2025-08-25 09:38:09','2025-08-25 09:38:09')
request_id=GF75AVRnrugNptUAADkB [info] Successfully generated tokens for user "pawel.mizwa@gmail.com" through linkedin
request_id=GF75AVRnrugNptUAADkB [info] Sent 200 in 570ms
request_id=GF75AZg1Z7sNptUAADkh [info] GET /.well-known/appspecific/com.chrome.devtools.json
request_id=GF75AZg1Z7sNptUAADkh [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => [".well-known", "appspecific", "com.chrome.devtools.json"]}
  Pipelines: [:browser]
request_id=GF75AZg1Z7sNptUAADkh [debug] Locale detected is en
request_id=GF75AZg1Z7sNptUAADkh [info] Sent 200 in 1ms
request_id=GF75AbYIVwdpEcYAADlh [info] GET /manifest.webmanifest
request_id=GF75AbYIVwdpEcYAADlh [debug] Processing with Mobilizon.Web.ManifestController.manifest/2
  Parameters: %{}
  Pipelines: []
request_id=GF75AbYIVwdpEcYAADlh [info] Sent 200 in 149µs
request_id=GF75Ab2_IRbJtHYAADmB [info] POST /api
request_id=GF75Ab3B32YNptUAAA0C [info] POST /api
request_id=GF75Ab2_IRbJtHYAADmB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Registrations", "query" => "query Registrations {\n  config {\n    registrationsOpen\n    registrationsAllowlist\n    auth {\n      databaseLogin\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75Ab2_IRbJtHYAADmB [debug] Locale detected is en
request_id=GF75Ab2_IRbJtHYAADmB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Registrations {
  config {
    registrationsOpen
    registrationsAllowlist
    auth {
      databaseLogin
      __typename
    }
    __typename
  }
}
---
request_id=GF75Ab3B32YNptUAAA0C [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FullConfig", "query" => "query FullConfig {\n  config {\n    name\n    description\n    slogan\n    version\n    registrationsOpen\n    registrationsAllowlist\n    demoMode\n    longEvents\n    durationOfLongEvent\n    countryCode\n    languages\n    primaryColor\n    secondaryColor\n    instanceLogo {\n      url\n      __typename\n    }\n    defaultPicture {\n      uuid\n      url\n      name\n      metadata {\n        width\n        height\n        blurhash\n        __typename\n      }\n      __typename\n    }\n    eventCategories {\n      id\n      label\n      __typename\n    }\n    anonymous {\n      participation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      eventCreation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      reports {\n        allowed\n        __typename\n      }\n      actorId\n      __typename\n    }\n    location {\n      latitude\n      longitude\n      __typename\n    }\n    maps {\n      tiles {\n        endpoint\n        attribution\n        __typename\n      }\n      routing {\n        type\n        __typename\n      }\n      __typename\n    }\n    geocoding {\n      provider\n      autocomplete\n      __typename\n    }\n    resourceProviders {\n      type\n      endpoint\n      software\n      __typename\n    }\n    features {\n      groups\n      eventCreation\n      eventExternal\n      antispam\n      __typename\n    }\n    restrictions {\n      onlyAdminCanCreateGroups\n      onlyGroupsCanCreateEvents\n      __typename\n    }\n    auth {\n      ldap\n      databaseLogin\n      oauthProviders {\n        id\n        label\n        __typename\n      }\n      __typename\n    }\n    uploadLimits {\n      default\n      avatar\n      banner\n      __typename\n    }\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    webPush {\n      enabled\n      publicKey\n      __typename\n    }\n    analytics {\n      id\n      enabled\n      configuration {\n        key\n        value\n        type\n        __typename\n      }\n      __typename\n    }\n    search {\n      global {\n        isEnabled\n        isDefault\n        __typename\n      }\n      __typename\n    }\n    exportFormats {\n      eventParticipants\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75Ab3B32YNptUAAA0C [debug] Locale detected is en
request_id=GF75Ab3B32YNptUAAA0C [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query FullConfig {
  config {
    name
    description
    slogan
    version
    registrationsOpen
    registrationsAllowlist
    demoMode
    longEvents
    durationOfLongEvent
    countryCode
    languages
    primaryColor
    secondaryColor
    instanceLogo {
      url
      __typename
    }
    defaultPicture {
      uuid
      url
      name
      metadata {
        width
        height
        blurhash
        __typename
      }
      __typename
    }
    eventCategories {
      id
      label
      __typename
    }
    anonymous {
      participation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      eventCreation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      reports {
        allowed
        __typename
      }
      actorId
      __typename
    }
    location {
      latitude
      longitude
      __typename
    }
    maps {
      tiles {
        endpoint
        attribution
        __typename
      }
      routing {
        type
        __typename
      }
      __typename
    }
    geocoding {
      provider
      autocomplete
      __typename
    }
    resourceProviders {
      type
      endpoint
      software
      __typename
    }
    features {
      groups
      eventCreation
      eventExternal
      antispam
      __typename
    }
    restrictions {
      onlyAdminCanCreateGroups
      onlyGroupsCanCreateEvents
      __typename
    }
    auth {
      ldap
      databaseLogin
      oauthProviders {
        id
        label
        __typename
      }
      __typename
    }
    uploadLimits {
      default
      avatar
      banner
      __typename
    }
    instanceFeeds {
      enabled
      __typename
    }
    webPush {
      enabled
      publicKey
      __typename
    }
    analytics {
      id
      enabled
      configuration {
        key
        value
        type
        __typename
      }
      __typename
    }
    search {
      global {
        isEnabled
        isDefault
        __typename
      }
      __typename
    }
    exportFormats {
      eventParticipants
      __typename
    }
    __typename
  }
}
---
request_id=GF75Ab2_IRbJtHYAADmB graphql_operation_name=Registrations [info] Sent 200 in 1ms
request_id=GF75Ab3B32YNptUAAA0C graphql_operation_name=FullConfig [info] Sent 200 in 4ms
request_id=GF75AdPf_isNptUAADnh [info] POST /api
request_id=GF75AdPf_isNptUAADnh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "About", "query" => "query About {\n  config {\n    name\n    description\n    longDescription\n    slogan\n    contact\n    languages\n    registrationsOpen\n    registrationsAllowlist\n    anonymous {\n      participation {\n        allowed\n        __typename\n      }\n      __typename\n    }\n    version\n    federating\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75AdPf_isNptUAADnh [debug] Locale detected is en
request_id=GF75AdPf_isNptUAADnh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query About {
  config {
    name
    description
    longDescription
    slogan
    contact
    languages
    registrationsOpen
    registrationsAllowlist
    anonymous {
      participation {
        allowed
        __typename
      }
      __typename
    }
    version
    federating
    instanceFeeds {
      enabled
      __typename
    }
    __typename
  }
}
---
request_id=GF75AdPf_isNptUAADnh graphql_operation_name=About [info] Sent 200 in 1ms
request_id=GF75AeZhTpzJtHYAADpB [info] POST /api
request_id=GF75AeZkTlkNptUAADph [info] POST /api
request_id=GF75AeZhTpzJtHYAADpB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoggedUserQuery", "query" => "query LoggedUserQuery {\n  loggedUser {\n    id\n    email\n    defaultActor {\n      ...ActorFragment\n      __typename\n    }\n    provider\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75AeZkTlkNptUAADph [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Identities", "query" => "query Identities {\n  loggedUser {\n    id\n    actors {\n      ...ActorFragment\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75AeZhTpzJtHYAADpB [debug] [Guardian] Called on_verify
request_id=GF75AeZkTlkNptUAADph [debug] [Guardian] Called on_verify
request_id=GF75AeZkTlkNptUAADph [debug] Receiving claim for user 41
request_id=GF75AeZhTpzJtHYAADpB [debug] Receiving claim for user 41
request_id=GF75AeZhTpzJtHYAADpB [debug] QUERY OK source="users" db=0.9ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75AeZkTlkNptUAADph [debug] QUERY OK source="users" db=1.0ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75AeZhTpzJtHYAADpB [debug] QUERY OK source="actors" db=0.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75AeZhTpzJtHYAADpB [debug] Locale detected is en
request_id=GF75AeZhTpzJtHYAADpB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query LoggedUserQuery {
  loggedUser {
    id
    email
    defaultActor {
      ...ActorFragment
      __typename
    }
    provider
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75AeZkTlkNptUAADph [debug] QUERY OK source="actors" db=3.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75AeZkTlkNptUAADph [debug] Locale detected is en
request_id=GF75AeZkTlkNptUAADph [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Identities {
  loggedUser {
    id
    actors {
      ...ActorFragment
      __typename
    }
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
[debug] QUERY OK source="actors" db=4.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.9ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75AeZkTlkNptUAADph graphql_operation_name=Identities [info] Sent 200 in 11ms
request_id=GF75AeZhTpzJtHYAADpB graphql_operation_name=LoggedUserQuery [info] Sent 200 in 11ms
request_id=GF75Ae63hX8srP0AADrB [info] POST /api
request_id=GF75Ae66OGoahFoAADrh [info] POST /api
request_id=GF75Ae68NDo6Q4IAADsB [info] POST /api
request_id=GF75Ae66OGoahFoAADrh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoggedUserMemberships", "query" => "query LoggedUserMemberships($membershipName: String, $page: Int, $limit: Int) {\n  loggedUser {\n    id\n    memberships(name: $membershipName, page: $page, limit: $limit) {\n      total\n      elements {\n        id\n        role\n        actor {\n          ...ActorFragment\n          __typename\n        }\n        parent {\n          ...ActorFragment\n          organizedEvents {\n            elements {\n              id\n              title\n              picture {\n                uuid\n                url\n                __typename\n              }\n              __typename\n            }\n            total\n            __typename\n          }\n          __typename\n        }\n        invitedBy {\n          ...ActorFragment\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"limit" => 6}}
  Pipelines: [:graphql]
request_id=GF75Ae66OGoahFoAADrh [debug] [Guardian] Called on_verify
request_id=GF75Ae63hX8srP0AADrB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75Ae66OGoahFoAADrh [debug] Receiving claim for user 41
request_id=GF75Ae63hX8srP0AADrB [debug] [Guardian] Called on_verify
request_id=GF75Ae63hX8srP0AADrB [debug] Receiving claim for user 41
request_id=GF75Ae68NDo6Q4IAADsB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "HomeUserQueries", "query" => "query HomeUserQueries($afterDateTime: DateTime, $beforeDateTime: DateTime, $page: Int, $limit: Int) {\n  loggedUser {\n    id\n    locale\n    settings {\n      ...UserSettingFragment\n      __typename\n    }\n    participations(\n      afterDatetime: $afterDateTime\n      beforeDatetime: $beforeDateTime\n      page: $page\n      limit: $limit\n    ) {\n      total\n      elements {\n        event {\n          id\n          uuid\n          title\n          picture {\n            uuid\n            url\n            alt\n            __typename\n          }\n          beginsOn\n          status\n          visibility\n          language\n          organizerActor {\n            ...ActorFragment\n            __typename\n          }\n          attributedTo {\n            ...ActorFragment\n            __typename\n          }\n          participantStats {\n            going\n            notApproved\n            participant\n            __typename\n          }\n          options {\n            ...EventOptions\n            __typename\n          }\n          tags {\n            ...TagFragment\n            __typename\n          }\n          __typename\n        }\n        id\n        role\n        actor {\n          ...ActorFragment\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    followedGroupEvents {\n      total\n      elements {\n        profile {\n          id\n          __typename\n        }\n        group {\n          ...ActorFragment\n          __typename\n        }\n        event {\n          id\n          uuid\n          title\n          beginsOn\n          status\n          picture {\n            url\n            __typename\n          }\n          language\n          attributedTo {\n            ...ActorFragment\n            __typename\n          }\n          organizerActor {\n            ...ActorFragment\n            __typename\n          }\n          options {\n            ...EventOptions\n            __typename\n          }\n          physicalAddress {\n            ...AdressFragment\n            __typename\n          }\n          tags {\n            ...TagFragment\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment UserSettingFragment on UserSettings {\n  timezone\n  notificationOnDay\n  notificationEachWeek\n  notificationBeforeEvent\n  notificationPendingParticipation\n  notificationPendingMembership\n  groupNotifications\n  location {\n    range\n    geohash\n    name\n    __typename\n  }\n  __typename\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"afterDateTime" => "2025-08-25T09:38:11.123Z"}}
  Pipelines: [:graphql]
request_id=GF75Ae68NDo6Q4IAADsB [debug] [Guardian] Called on_verify
request_id=GF75Ae68NDo6Q4IAADsB [debug] Receiving claim for user 41
request_id=GF75Ae63hX8srP0AADrB [debug] QUERY OK source="users" db=1.2ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75Ae68NDo6Q4IAADsB [debug] QUERY OK source="users" db=1.0ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75Ae66OGoahFoAADrh [debug] QUERY OK source="users" db=1.7ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75Ae68NDo6Q4IAADsB [debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75Ae68NDo6Q4IAADsB [debug] Locale detected is en
request_id=GF75Ae66OGoahFoAADrh [debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75Ae68NDo6Q4IAADsB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"afterDateTime" => "2025-08-25T09:38:11.123Z"}
---
query HomeUserQueries($afterDateTime: DateTime, $beforeDateTime: DateTime, $page: Int, $limit: Int) {
  loggedUser {
    id
    locale
    settings {
      ...UserSettingFragment
      __typename
    }
    participations(
      afterDatetime: $afterDateTime
      beforeDatetime: $beforeDateTime
      page: $page
      limit: $limit
    ) {
      total
      elements {
        event {
          id
          uuid
          title
          picture {
            uuid
            url
            alt
            __typename
          }
          beginsOn
          status
          visibility
          language
          organizerActor {
            ...ActorFragment
            __typename
          }
          attributedTo {
            ...ActorFragment
            __typename
          }
          participantStats {
            going
            notApproved
            participant
            __typename
          }
          options {
            ...EventOptions
            __typename
          }
          tags {
            ...TagFragment
            __typename
          }
          __typename
        }
        id
        role
        actor {
          ...ActorFragment
          __typename
        }
        __typename
      }
      __typename
    }
    followedGroupEvents {
      total
      elements {
        profile {
          id
          __typename
        }
        group {
          ...ActorFragment
          __typename
        }
        event {
          id
          uuid
          title
          beginsOn
          status
          picture {
            url
            __typename
          }
          language
          attributedTo {
            ...ActorFragment
            __typename
          }
          organizerActor {
            ...ActorFragment
            __typename
          }
          options {
            ...EventOptions
            __typename
          }
          physicalAddress {
            ...AdressFragment
            __typename
          }
          tags {
            ...TagFragment
            __typename
          }
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment UserSettingFragment on UserSettings {
  timezone
  notificationOnDay
  notificationEachWeek
  notificationBeforeEvent
  notificationPendingParticipation
  notificationPendingMembership
  groupNotifications
  location {
    range
    geohash
    name
    __typename
  }
  __typename
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75Ae66OGoahFoAADrh [debug] Locale detected is en
request_id=GF75Ae66OGoahFoAADrh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"limit" => 6}
---
query LoggedUserMemberships($membershipName: String, $page: Int, $limit: Int) {
  loggedUser {
    id
    memberships(name: $membershipName, page: $page, limit: $limit) {
      total
      elements {
        id
        role
        actor {
          ...ActorFragment
          __typename
        }
        parent {
          ...ActorFragment
          organizedEvents {
            elements {
              id
              title
              picture {
                uuid
                url
                __typename
              }
              __typename
            }
            total
            __typename
          }
          __typename
        }
        invitedBy {
          ...ActorFragment
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75Ae63hX8srP0AADrB [debug] QUERY OK source="actors" db=1.1ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75Ae63hX8srP0AADrB [debug] Locale detected is en
request_id=GF75Ae63hX8srP0AADrB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
[debug] QUERY OK source="actors" db=0.9ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75Ae68NDo6Q4IAADsB graphql_operation_name=HomeUserQueries [debug] QUERY OK source="user_settings" db=3.4ms
SELECT u0."user_id", u0."timezone", u0."notification_on_day", u0."notification_each_week", u0."notification_before_event", u0."notification_pending_participation", u0."notification_pending_membership", u0."group_notifications", u0."last_notification_sent", u0."location", u0."inserted_at", u0."updated_at" FROM "user_settings" AS u0 WHERE (u0."user_id" = 41)
request_id=GF75Ae63hX8srP0AADrB [debug] QUERY OK source="actors" db=3.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=3.5ms
SELECT count(*) FROM (SELECT sm0."id" AS "id", sm0."role" AS "role", sm0."url" AS "url", sm0."member_since" AS "member_since", sm0."metadata" AS "metadata", sm0."invited_by_id" AS "invited_by_id", sm0."parent_id" AS "parent_id", sm0."actor_id" AS "actor_id", sm0."inserted_at" AS "inserted_at", sm0."updated_at" AS "updated_at" FROM "members" AS sm0 INNER JOIN "actors" AS sa1 ON sm0."actor_id" = sa1."id" WHERE ((sa1."user_id" = 41) AND (sm0."role" != 'not_approved'))) AS s0
[debug] QUERY OK source="members" db=3.8ms
SELECT m0."id", m0."role", m0."url", m0."member_since", m0."metadata", m0."invited_by_id", m0."parent_id", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "members" AS m0 INNER JOIN "actors" AS a1 ON m0."actor_id" = a1."id" WHERE ((a1."user_id" = 41) AND (m0."role" != 'not_approved')) LIMIT 6 OFFSET 0
request_id=GF75Ae66OGoahFoAADrh graphql_operation_name=LoggedUserMemberships [info] Sent 200 in 11ms
[debug] QUERY OK db=3.2ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:11.430617Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="participants" db=4.8ms
SELECT p0."id", p0."role", p0."url", p0."code", p0."metadata", p0."event_id", p0."actor_id", p0."inserted_at", p0."updated_at" FROM "participants" AS p0 INNER JOIN "events" AS e1 ON p0."event_id" = e1."id" INNER JOIN "actors" AS a2 ON p0."actor_id" = a2."id" WHERE ((a2."user_id" = 41) AND (p0."role" != 'not_approved')) AND (e1."begins_on" > '2025-08-25 09:38:11Z') ORDER BY e1."begins_on" LIMIT 10 OFFSET 0
[debug] QUERY OK source="events" db=5.8ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:11.430617Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK db=6.9ms
SELECT count(*) FROM (SELECT sp0."id" AS "id", sp0."role" AS "role", sp0."url" AS "url", sp0."code" AS "code", sp0."metadata" AS "metadata", sp0."event_id" AS "event_id", sp0."actor_id" AS "actor_id", sp0."inserted_at" AS "inserted_at", sp0."updated_at" AS "updated_at" FROM "participants" AS sp0 INNER JOIN "events" AS se1 ON sp0."event_id" = se1."id" INNER JOIN "actors" AS sa2 ON sp0."actor_id" = sa2."id" WHERE ((sa2."user_id" = 41) AND (sp0."role" != 'not_approved')) AND (se1."begins_on" > '2025-08-25 09:38:11Z')) AS s0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=1.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
[debug] QUERY OK db=2.9ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "participants" AS sp1 ON se0."id" = sp1."event_id" INNER JOIN "actors" AS sa2 ON sp1."actor_id" = sa2."id" INNER JOIN "actors" AS sa3 ON se0."attributed_to_id" = sa3."id" LEFT OUTER JOIN "followers" AS sf4 ON sa3."id" = sf4."target_actor_id" LEFT OUTER JOIN "members" AS sm5 ON sa3."id" = sm5."parent_id" INNER JOIN "actors" AS sa6 ON (sa6."id" = sf4."actor_id") OR (sa6."id" = sm5."actor_id") WHERE (se0."begins_on" > '2025-08-25 09:38:11Z') AND (((sf4."approved" OR sm5."role" = ANY('{member,moderator,administrator,creator}')) AND (sa6."user_id" = 41)) AND (sa2."user_id" != 41))) AS s0
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=1.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.5ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
[debug] QUERY OK source="events" db=6.1ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at", p1."id", p1."role", p1."url", p1."code", p1."metadata", p1."event_id", p1."actor_id", p1."inserted_at", p1."updated_at", f4."id", f4."approved", f4."url", f4."notify", f4."inserted_at", f4."updated_at", f4."target_actor_id", f4."actor_id" FROM "events" AS e0 LEFT OUTER JOIN "participants" AS p1 ON e0."id" = p1."event_id" INNER JOIN "actors" AS a2 ON p1."actor_id" = a2."id" INNER JOIN "actors" AS a3 ON e0."attributed_to_id" = a3."id" LEFT OUTER JOIN "followers" AS f4 ON a3."id" = f4."target_actor_id" LEFT OUTER JOIN "members" AS m5 ON a3."id" = m5."parent_id" INNER JOIN "actors" AS a6 ON (a6."id" = f4."actor_id") OR (a6."id" = m5."actor_id") WHERE (e0."begins_on" > '2025-08-25 09:38:11Z') AND (((f4."approved" OR m5."role" = ANY('{member,moderator,administrator,creator}')) AND (a6."user_id" = 41)) AND (a2."user_id" != 41)) LIMIT 10 OFFSET 0
request_id=GF75Ae68NDo6Q4IAADsB graphql_operation_name=HomeUserQueries [info] Sent 200 in 24ms
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.9ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [info] Sent 500 in 104ms
request_id=GF75Ae63hX8srP0AADrB graphql_operation_name=FetchEvents [error] GenServer #PID<0.4997.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:continue, :handle_connection}
State: {%ThousandIsland.Socket{socket: #Port<0.245>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.233156>, start_time: -576459226214655307, start_metadata: %{remote_port: 57352, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.233156>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9063>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.InitialHandler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true}}
request_id=GF75AoW92AY6Q4IAADwB [info] POST /api
request_id=GF75AoW92AY6Q4IAADwB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Logout", "query" => "mutation Logout($refreshToken: String!) {\n  logout(refreshToken: $refreshToken)\n}", "variables" => %{"refreshToken" => "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg2ODksImlhdCI6MTc1NjExNDY4OSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiNzljNmEyNDctOTBlMC00YjU2LWI3NGYtMDJhNzAyZDkwMDFiIiwibmJmIjoxNzU2MTE0Njg4LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.i1sKu5FfMKdM_d8pH8bfH62vR3Ypyssv0fc4TB7IJ7bOjV5vV5b6FlSTtI7wvm6e68e6BueN9nCg2WZn9AbBSA"}}
  Pipelines: [:graphql]
request_id=GF75AoW92AY6Q4IAADwB [debug] [Guardian] Called on_verify
request_id=GF75AoW92AY6Q4IAADwB [debug] Receiving claim for user 41
request_id=GF75AoW92AY6Q4IAADwB [debug] QUERY OK source="users" db=1.6ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75AoW92AY6Q4IAADwB [debug] QUERY OK source="actors" db=0.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75AoW92AY6Q4IAADwB [debug] Locale detected is en
request_id=GF75AoW92AY6Q4IAADwB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"refreshToken" => "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg2ODksImlhdCI6MTc1NjExNDY4OSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiNzljNmEyNDctOTBlMC00YjU2LWI3NGYtMDJhNzAyZDkwMDFiIiwibmJmIjoxNzU2MTE0Njg4LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.i1sKu5FfMKdM_d8pH8bfH62vR3Ypyssv0fc4TB7IJ7bOjV5vV5b6FlSTtI7wvm6e68e6BueN9nCg2WZn9AbBSA"}
---
mutation Logout($refreshToken: String!) {
  logout(refreshToken: $refreshToken)
}
---
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75AoW92AY6Q4IAADwB [debug] [Guardian] Called on_verify
request_id=GF75AoW92AY6Q4IAADwB [debug] QUERY OK source="guardian_tokens" db=1.7ms
SELECT g0."jti", g0."typ", g0."aud", g0."iss", g0."sub", g0."exp", g0."jwt", g0."claims", g0."inserted_at", g0."updated_at" FROM "guardian_tokens" AS g0 WHERE ((g0."jti" = '79c6a247-90e0-4b56-b74f-02a702d9001b') AND (g0."aud" = 'mobilizon'))
request_id=GF75AoW92AY6Q4IAADwB [debug] [Guardian] Called on_revoke
request_id=GF75AoW92AY6Q4IAADwB [debug] QUERY OK source="guardian_tokens" db=0.5ms
SELECT g0."jti", g0."typ", g0."aud", g0."iss", g0."sub", g0."exp", g0."jwt", g0."claims", g0."inserted_at", g0."updated_at" FROM "guardian_tokens" AS g0 WHERE ((g0."jti" = '79c6a247-90e0-4b56-b74f-02a702d9001b') AND (g0."aud" = 'mobilizon'))
request_id=GF75AoW92AY6Q4IAADwB [debug] QUERY OK source="guardian_tokens" db=1.0ms
DELETE FROM "guardian_tokens" WHERE "jti" = '79c6a247-90e0-4b56-b74f-02a702d9001b'
request_id=GF75AoW92AY6Q4IAADwB graphql_operation_name=Logout [info] Sent 200 in 9ms
request_id=GF75Aoynz9cahFoAABZD [info] POST /api
request_id=GF75Aoynz9cahFoAABZD [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75Aoynz9cahFoAABZD [debug] Locale detected is en
request_id=GF75Aoynz9cahFoAABZD [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75Aoynz9cahFoAABZD [debug] QUERY OK source="actors" db=1.2ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK source="events" db=1.0ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:14.075575Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK db=1.2ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:14.075575Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.5ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.4ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.6ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.6ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [info] Sent 500 in 85ms
request_id=GF75Aoynz9cahFoAABZD graphql_operation_name=FetchEvents [error] GenServer #PID<0.4967.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.243>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.243>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.230016>, start_time: -576459226921233932, start_metadata: %{remote_port: 39954, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.230016>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9059>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 2}}
request_id=GF75ArhON8s6Q4IAABCi [info] POST /api
request_id=GF75ArhON8s6Q4IAABCi [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75ArhON8s6Q4IAABCi [debug] Locale detected is en
request_id=GF75ArhON8s6Q4IAABCi [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75ArhON8s6Q4IAABCi [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=1.0ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:14.807889Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=6.8ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:14.807889Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.2ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.4ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.4ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.2ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [info] Sent 500 in 83ms
request_id=GF75ArhON8s6Q4IAABCi graphql_operation_name=FetchEvents [error] GenServer #PID<0.4968.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.244>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.244>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.230020>, start_time: -576459226921052224, start_metadata: %{remote_port: 39960, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.230020>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9061>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 3}}
request_id=GF75AwoByyrJtHYAAD5h [info] POST /api
request_id=GF75AwoByyrJtHYAAD5h [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75AwoByyrJtHYAAD5h [debug] Locale detected is en
request_id=GF75AwoByyrJtHYAAD5h [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75AwoByyrJtHYAAD5h [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=1.0ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:16.178771Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=1.3ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:16.178771Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=1.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=2.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.4ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.5ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.4ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.4ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [info] Sent 500 in 84ms
request_id=GF75AwoByyrJtHYAAD5h graphql_operation_name=FetchEvents [error] GenServer #PID<0.4922.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.241>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.241>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.224376>, start_time: -576459227684622558, start_metadata: %{remote_port: 39938, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.224376>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9055>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 3}}
request_id=GF75A1Oh7mAswP4AAEBB [info] GET /
request_id=GF75A1Oh7mAswP4AAEBB [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => []}
  Pipelines: [:browser]
request_id=GF75A1Oh7mAswP4AAEBB [debug] Locale detected is en
request_id=GF75A1Oh7mAswP4AAEBB [info] Sent 200 in 633µs
request_id=GF75A59dYL0NptUAAEBh [info] GET /auth/linkedin
request_id=GF75A59dYL0NptUAAEBh [debug] Processing with Mobilizon.Web.AuthController.request/2
  Parameters: %{"provider" => "linkedin"}
  Pipelines: [:browser]
request_id=GF75A59dYL0NptUAAEBh [debug] Locale detected is en
request_id=GF75A59dYL0NptUAAEBh [info] Handling LinkedIn OAuth request with direct implementation
request_id=GF75A59dYL0NptUAAEBh [info] LinkedIn OAuth: Generating authorization URL
request_id=GF75A59dYL0NptUAAEBh [debug] LinkedIn OAuth: Authorization parameters: [
  scope: "openid profile email",
  state: "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc"
]
request_id=GF75A59dYL0NptUAAEBh [debug] LinkedIn OAuth: Client configuration: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: nil,
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75A59dYL0NptUAAEBh [info] LinkedIn OAuth: Generated authorization URL: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc
request_id=GF75A59dYL0NptUAAEBh [info] Redirecting to LinkedIn OAuth: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc
request_id=GF75A59dYL0NptUAAEBh [info] Sent 302 in 564µs
request_id=GF75A7Dt3acNptUAAECB [info] GET /auth/linkedin/callback
request_id=GF75A7Dt3acNptUAAECB [debug] Processing with Mobilizon.Web.AuthController.callback/2
  Parameters: %{"code" => "AQTrGasK88-DrCoyM030aZgrZnryUFC5BGsG7MV0Az3sq9XbgGtZQ_92URWKnbbWMwMSeQEt3EeJX6hrtx34BPgqKMuv1SOwdEcXl2-oAZNtXMrEwP1BQ0WKWdbutn4vQaPik8gVTXe_hjzqDv4Xq2wu7GllH0gcKtq-9uJysuvAqoqywzNbS037rcsP_62mfHMkKY1Br6M3EifPLRw", "provider" => "linkedin", "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc"}
  Pipelines: [:browser]
request_id=GF75A7Dt3acNptUAAECB [debug] Locale detected is en
request_id=GF75A7Dt3acNptUAAECB [info] Processing LinkedIn OAuth callback with direct implementation
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn callback params: %{
  "code" => "AQTrGasK88-DrCoyM030aZgrZnryUFC5BGsG7MV0Az3sq9XbgGtZQ_92URWKnbbWMwMSeQEt3EeJX6hrtx34BPgqKMuv1SOwdEcXl2-oAZNtXMrEwP1BQ0WKWdbutn4vQaPik8gVTXe_hjzqDv4Xq2wu7GllH0gcKtq-9uJysuvAqoqywzNbS037rcsP_62mfHMkKY1Br6M3EifPLRw",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc"
}
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: Received callback with code and state
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Authorization code (first 20 chars): AQTrGasK88-DrCoyM030...
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: State parameter: SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Full callback params: %{
  "code" => "AQTrGasK88-DrCoyM030aZgrZnryUFC5BGsG7MV0Az3sq9XbgGtZQ_92URWKnbbWMwMSeQEt3EeJX6hrtx34BPgqKMuv1SOwdEcXl2-oAZNtXMrEwP1BQ0WKWdbutn4vQaPik8gVTXe_hjzqDv4Xq2wu7GllH0gcKtq-9uJysuvAqoqywzNbS037rcsP_62mfHMkKY1Br6M3EifPLRw",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZkWU5vanR4dE5EbUc3bTM0Y2tXSEtnbQAAAAl0aW1lc3RhbXBiaKwvCm4GALPBl-CYAWIAAVGA.h8btJrudMpqQDt_42IEM8-Kbrdu-9hPtKPeG0tG1tRc"
}
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Request headers: %{
  "accept" => "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
  "accept-encoding" => "gzip, deflate, br, zstd",
  "accept-language" => "en-US,en;q=0.9,pl;q=0.8",
  "cache-control" => "no-cache",
  "connection" => "keep-alive",
  "host" => "localhost:4000",
  "pragma" => "no-cache",
  "referer" => "http://localhost:4000/",
  "sec-ch-ua" => "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"",
  "sec-ch-ua-mobile" => "?0",
  "sec-ch-ua-platform" => "\"macOS\"",
  "sec-fetch-dest" => "document",
  "sec-fetch-mode" => "navigate",
  "sec-fetch-site" => "cross-site",
  "sec-fetch-user" => "?1",
  "upgrade-insecure-requests" => "1",
  "user-agent" => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth state verified successfully
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: Starting authentication flow
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: Token exchange attempt 1/3
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Token exchange request parameters: [
  code: "AQTrGasK88-DrCoyM030aZgrZnryUFC5BGsG7MV0Az3sq9XbgGtZQ_92URWKnbbWMwMSeQEt3EeJX6hrtx34BPgqKMuv1SOwdEcXl2-oAZNtXMrEwP1BQ0WKWdbutn4vQaPik8gVTXe_hjzqDv4Xq2wu7GllH0gcKtq-9uJysuvAqoqywzNbS037rcsP_62mfHMkKY1Br6M3EifPLRw",
  grant_type: "authorization_code",
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw=="
]
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Making token request to: https://www.linkedin.com/oauth/v2/accessToken
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Client ID: 77es95oq72tify
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Redirect URI: http://localhost:4000/auth/linkedin/callback
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: Token exchange successful on attempt 1
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Received token: %OAuth2.AccessToken{
  access_token: "AQWwmq-KjPNFkE3RengieVxylVkWk0fASPr4-ox_EFWdSohpSAvEHi0TDnmaG3FUPWtkTRmMQ_Wb9aLPXyHLga02WI9hR1gngWN_czduStzRJojo0ZTZsal_O9CfNPBA_HdqZI57_ULwkXBLQDNMvPFLrKMENj5mube_k8zmrSe-L4V-k_qUNoHG1HeDeayU8y_Jct8AxNAcOFYVBwlklScqsZvU9KQCdP7Dh7N-0ncBJyoGSLxAd5YYm9CK1Nka_iq9K2pP1ab9uHio_Tx4oTIf4Qg7hqQY6wU_4BH5P-v9zWM2jt2MwhBiauWZ_CpPI8zAAvA-MMHh6SDQLoNIIMpQUDLO6A",
  refresh_token: nil,
  expires_at: 1761298698,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDY5OSwiZXhwIjoxNzU2MTE4Mjk5LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.LvfSloF61hGG66w5Ym4bj3s0TTaBvboDdTD9BciyuVDksWFuyiT0mp8zYLrY2n6xjQ-viOZokn3LH6cuH35v2dZEUVoG-zEX0oSRfkD0nVekOeb6nZQFaRteT2TYrXmc-YmCAiOx2rnI29Thy_kuGzBxg9RXl91i5qePQGBEoZV2AIy8zC4dCM_ITmdJpprBBuyFYwuWaSASdPTym0bCYF0USNXjohh54R47MM8quXVAuEyjUJhRJ1LpqtFbDwoZZmIC-DfKZ2oqouGfxsO_CbrTAZtpMY09hYPQHWCNbh99LSdAhipAGxR-fNJeXWZ9BrFGoa5k4ODgQ40a_fnIZ0kOAgilidstkqXsES9P4H02QM_SuUTqKOkFP9YrF6OmKRKpS-_7ELbxqdTGlyCKsgghghKTUO_s5PTtAjrVlnQD39qsTuHsXTaGWwvZQp4oOhwFts6oDvInl512Tok_By5QzXTGDlEnVG2TWOZahgVtBzY-AJMJ2ueY9MgJyLhgYA2stYqO38ZYYa3vI1i3Wzf5FQjT0ozf1bEx_fCRvN2E_SS135pLw5zhPBnZmchAXMKG4oUVUo0eVqvAqElA7qw_CbuBr752-w6b327iaLqXB8r5mUrJsnFTatf2vEUMLr9EWYuQQ7P0qyE5zQaclGXkOvvE71ttcxAg1PugfH8",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Full client result: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: %OAuth2.AccessToken{
    access_token: "AQWwmq-KjPNFkE3RengieVxylVkWk0fASPr4-ox_EFWdSohpSAvEHi0TDnmaG3FUPWtkTRmMQ_Wb9aLPXyHLga02WI9hR1gngWN_czduStzRJojo0ZTZsal_O9CfNPBA_HdqZI57_ULwkXBLQDNMvPFLrKMENj5mube_k8zmrSe-L4V-k_qUNoHG1HeDeayU8y_Jct8AxNAcOFYVBwlklScqsZvU9KQCdP7Dh7N-0ncBJyoGSLxAd5YYm9CK1Nka_iq9K2pP1ab9uHio_Tx4oTIf4Qg7hqQY6wU_4BH5P-v9zWM2jt2MwhBiauWZ_CpPI8zAAvA-MMHh6SDQLoNIIMpQUDLO6A",
    refresh_token: nil,
    expires_at: 1761298698,
    token_type: "Bearer",
    other_params: %{
      "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDY5OSwiZXhwIjoxNzU2MTE4Mjk5LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.LvfSloF61hGG66w5Ym4bj3s0TTaBvboDdTD9BciyuVDksWFuyiT0mp8zYLrY2n6xjQ-viOZokn3LH6cuH35v2dZEUVoG-zEX0oSRfkD0nVekOeb6nZQFaRteT2TYrXmc-YmCAiOx2rnI29Thy_kuGzBxg9RXl91i5qePQGBEoZV2AIy8zC4dCM_ITmdJpprBBuyFYwuWaSASdPTym0bCYF0USNXjohh54R47MM8quXVAuEyjUJhRJ1LpqtFbDwoZZmIC-DfKZ2oqouGfxsO_CbrTAZtpMY09hYPQHWCNbh99LSdAhipAGxR-fNJeXWZ9BrFGoa5k4ODgQ40a_fnIZ0kOAgilidstkqXsES9P4H02QM_SuUTqKOkFP9YrF6OmKRKpS-_7ELbxqdTGlyCKsgghghKTUO_s5PTtAjrVlnQD39qsTuHsXTaGWwvZQp4oOhwFts6oDvInl512Tok_By5QzXTGDlEnVG2TWOZahgVtBzY-AJMJ2ueY9MgJyLhgYA2stYqO38ZYYa3vI1i3Wzf5FQjT0ozf1bEx_fCRvN2E_SS135pLw5zhPBnZmchAXMKG4oUVUo0eVqvAqElA7qw_CbuBr752-w6b327iaLqXB8r5mUrJsnFTatf2vEUMLr9EWYuQQ7P0qyE5zQaclGXkOvvE71ttcxAg1PugfH8",
      "scope" => "email,openid,profile"
    }
  },
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: User info fetch attempt 1/3
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Making user info request to: https://api.linkedin.com/v2/userinfo
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Request headers: [
  {"Authorization",
   "Bearer AQWwmq-KjPNFkE3RengieVxylVkWk0fASPr4-ox_EFWdSohpSAvEHi0TDnmaG3FUPWtkTRmMQ_Wb9aLPXyHLga02WI9hR1gngWN_czduStzRJojo0ZTZsal_O9CfNPBA_HdqZI57_ULwkXBLQDNMvPFLrKMENj5mube_k8zmrSe-L4V-k_qUNoHG1HeDeayU8y_Jct8AxNAcOFYVBwlklScqsZvU9KQCdP7Dh7N-0ncBJyoGSLxAd5YYm9CK1Nka_iq9K2pP1ab9uHio_Tx4oTIf4Qg7hqQY6wU_4BH5P-v9zWM2jt2MwhBiauWZ_CpPI8zAAvA-MMHh6SDQLoNIIMpQUDLO6A"}
]
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Access token (first 20 chars): AQWwmq-KjPNFkE3Rengi...
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: User info fetch successful on attempt 1
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: User info response headers: [
  {"Content-Type", "application/json"},
  {"x-restli-protocol-version", "1.0.0"},
  {"Date", "Mon, 25 Aug 2025 09:38:19 GMT"},
  {"Transfer-Encoding", "chunked"},
  {"Connection", "keep-alive"},
  {"X-Li-Fabric", "prod-lva1"},
  {"X-Li-Pop", "prod-lva1-x"},
  {"X-LI-Proto", "http/1.1"},
  {"X-LI-UUID", "AAY9LVDWNPBgKREtMX/jTA=="},
  {"Set-Cookie",
   "bcookie=\"v=2&1599257a-50cc-4197-8821-c0dd417fe506\"; Domain=.linkedin.com; Expires=Tue, 25-Aug-2026 09:38:19 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "li_gc=MTswOzE3NTYxMTQ2OTk7MjswMjFTfJPY603r6i/z6t6WRBtNdk3joEbDsdzZxI7AK7MH3w==; Domain=.linkedin.com; Expires=Sat, 21 Feb 2026 09:38:19 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "lidc=\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114699:t=1756137693:v=2:sig=AQEnI-6NyuwT_SURXyPwNHhkAQqmJds0\""},
  {"X-LI-Route-Key",
   "\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114699:t=1756137693:v=2:sig=AQEnI-6NyuwT_SURXyPwNHhkAQqmJds0\""}
]
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: User info response body: {"sub":"Ssxx_xIIFl","email_verified":true,"name":"Paweł Miżwa","locale":{"country":"PL","language":"pl"},"given_name":"Paweł","family_name":"Miżwa","email":"pawel.mizwa@gmail.com","picture":"https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4"}
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Decoded user info: %{
  "email" => "pawel.mizwa@gmail.com",
  "email_verified" => true,
  "family_name" => "Miżwa",
  "given_name" => "Paweł",
  "locale" => %{"country" => "PL", "language" => "pl"},
  "name" => "Paweł Miżwa",
  "picture" => "https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4",
  "sub" => "Ssxx_xIIFl"
}
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth: Authentication successful for pawel.mizwa@gmail.com
request_id=GF75A7Dt3acNptUAAECB [info] LinkedIn OAuth authentication successful for pawel.mizwa@gmail.com
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Complete user info received: %{
  "email" => "pawel.mizwa@gmail.com",
  "email_verified" => true,
  "family_name" => "Miżwa",
  "given_name" => "Paweł",
  "locale" => %{"country" => "PL", "language" => "pl"},
  "name" => "Paweł Miżwa",
  "picture" => "https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4",
  "sub" => "Ssxx_xIIFl"
}
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Token info: %OAuth2.AccessToken{
  access_token: "AQWwmq-KjPNFkE3RengieVxylVkWk0fASPr4-ox_EFWdSohpSAvEHi0TDnmaG3FUPWtkTRmMQ_Wb9aLPXyHLga02WI9hR1gngWN_czduStzRJojo0ZTZsal_O9CfNPBA_HdqZI57_ULwkXBLQDNMvPFLrKMENj5mube_k8zmrSe-L4V-k_qUNoHG1HeDeayU8y_Jct8AxNAcOFYVBwlklScqsZvU9KQCdP7Dh7N-0ncBJyoGSLxAd5YYm9CK1Nka_iq9K2pP1ab9uHio_Tx4oTIf4Qg7hqQY6wU_4BH5P-v9zWM2jt2MwhBiauWZ_CpPI8zAAvA-MMHh6SDQLoNIIMpQUDLO6A",
  refresh_token: nil,
  expires_at: 1761298698,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDY5OSwiZXhwIjoxNzU2MTE4Mjk5LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.LvfSloF61hGG66w5Ym4bj3s0TTaBvboDdTD9BciyuVDksWFuyiT0mp8zYLrY2n6xjQ-viOZokn3LH6cuH35v2dZEUVoG-zEX0oSRfkD0nVekOeb6nZQFaRteT2TYrXmc-YmCAiOx2rnI29Thy_kuGzBxg9RXl91i5qePQGBEoZV2AIy8zC4dCM_ITmdJpprBBuyFYwuWaSASdPTym0bCYF0USNXjohh54R47MM8quXVAuEyjUJhRJ1LpqtFbDwoZZmIC-DfKZ2oqouGfxsO_CbrTAZtpMY09hYPQHWCNbh99LSdAhipAGxR-fNJeXWZ9BrFGoa5k4ODgQ40a_fnIZ0kOAgilidstkqXsES9P4H02QM_SuUTqKOkFP9YrF6OmKRKpS-_7ELbxqdTGlyCKsgghghKTUO_s5PTtAjrVlnQD39qsTuHsXTaGWwvZQp4oOhwFts6oDvInl512Tok_By5QzXTGDlEnVG2TWOZahgVtBzY-AJMJ2ueY9MgJyLhgYA2stYqO38ZYYa3vI1i3Wzf5FQjT0ozf1bEx_fCRvN2E_SS135pLw5zhPBnZmchAXMKG4oUVUo0eVqvAqElA7qw_CbuBr752-w6b327iaLqXB8r5mUrJsnFTatf2vEUMLr9EWYuQQ7P0qyE5zQaclGXkOvvE71ttcxAg1PugfH8",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75A7Dt3acNptUAAECB [info] Processing LinkedIn user: pawel.mizwa@gmail.com
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Extracted email: pawel.mizwa@gmail.com
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Extracted name: Paweł Miżwa
request_id=GF75A7Dt3acNptUAAECB [debug] LinkedIn OAuth: Extracted username: Ssxx_xIIFl
request_id=GF75A7Dt3acNptUAAECB [debug] QUERY OK source="users" db=1.4ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE ((u0."email" = 'pawel.mizwa@gmail.com')) OR (u0."unconfirmed_email" = 'pawel.mizwa@gmail.com')
request_id=GF75A7Dt3acNptUAAECB [info] Found existing user for pawel.mizwa@gmail.com
request_id=GF75A7Dt3acNptUAAECB [debug] QUERY OK source="guardian_tokens" db=7.9ms
INSERT INTO "guardian_tokens" ("exp","sub","claims","aud","iss","jti","jwt","typ","inserted_at","updated_at") VALUES (1761298699,'User:41','{"aud":"mobilizon","exp":1761298699,"iat":1756114699,"iss":"mobilizon","jti":"1ddd7210-0779-4ca4-9528-4eda699236e4","nbf":1756114698,"sub":"User:41","typ":"refresh"}','mobilizon','mobilizon','1ddd7210-0779-4ca4-9528-4eda699236e4','eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg2OTksImlhdCI6MTc1NjExNDY5OSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiMWRkZDcyMTAtMDc3OS00Y2E0LTk1MjgtNGVkYTY5OTIzNmU0IiwibmJmIjoxNzU2MTE0Njk4LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.2tSEtTI3m8qd6k_TZtoc7jSKcexAmEXd5beInva1XxmqbXBsd9zfFxWMuuMDS4WhcL3yMVekWecyTXtZfE4sEw','refresh','2025-08-25 09:38:19','2025-08-25 09:38:19')
request_id=GF75A7Dt3acNptUAAECB [info] Successfully generated tokens for user "pawel.mizwa@gmail.com" through linkedin
request_id=GF75A7Dt3acNptUAAECB [info] Sent 200 in 565ms
request_id=GF75A-qYgX4NptUAAECh [info] GET /.well-known/appspecific/com.chrome.devtools.json
request_id=GF75A-qYgX4NptUAAECh [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => [".well-known", "appspecific", "com.chrome.devtools.json"]}
  Pipelines: [:browser]
request_id=GF75A-qYgX4NptUAAECh [debug] Locale detected is en
request_id=GF75A-qYgX4NptUAAECh [info] Sent 200 in 6ms
request_id=GF75BBZ40s1pEcYAAEDh [info] GET /manifest.webmanifest
request_id=GF75BBZ40s1pEcYAAEDh [debug] Processing with Mobilizon.Web.ManifestController.manifest/2
  Parameters: %{}
  Pipelines: []
request_id=GF75BBZ40s1pEcYAAEDh [info] Sent 200 in 281µs
request_id=GF75BB4T-yINptUAAEEB [info] POST /api
request_id=GF75BB4T4uLzm3wAABLC [info] POST /api
request_id=GF75BB4T4uLzm3wAABLC [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Registrations", "query" => "query Registrations {\n  config {\n    registrationsOpen\n    registrationsAllowlist\n    auth {\n      databaseLogin\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BB4T4uLzm3wAABLC [debug] Locale detected is en
request_id=GF75BB4T4uLzm3wAABLC [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Registrations {
  config {
    registrationsOpen
    registrationsAllowlist
    auth {
      databaseLogin
      __typename
    }
    __typename
  }
}
---
request_id=GF75BB4T-yINptUAAEEB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FullConfig", "query" => "query FullConfig {\n  config {\n    name\n    description\n    slogan\n    version\n    registrationsOpen\n    registrationsAllowlist\n    demoMode\n    longEvents\n    durationOfLongEvent\n    countryCode\n    languages\n    primaryColor\n    secondaryColor\n    instanceLogo {\n      url\n      __typename\n    }\n    defaultPicture {\n      uuid\n      url\n      name\n      metadata {\n        width\n        height\n        blurhash\n        __typename\n      }\n      __typename\n    }\n    eventCategories {\n      id\n      label\n      __typename\n    }\n    anonymous {\n      participation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      eventCreation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      reports {\n        allowed\n        __typename\n      }\n      actorId\n      __typename\n    }\n    location {\n      latitude\n      longitude\n      __typename\n    }\n    maps {\n      tiles {\n        endpoint\n        attribution\n        __typename\n      }\n      routing {\n        type\n        __typename\n      }\n      __typename\n    }\n    geocoding {\n      provider\n      autocomplete\n      __typename\n    }\n    resourceProviders {\n      type\n      endpoint\n      software\n      __typename\n    }\n    features {\n      groups\n      eventCreation\n      eventExternal\n      antispam\n      __typename\n    }\n    restrictions {\n      onlyAdminCanCreateGroups\n      onlyGroupsCanCreateEvents\n      __typename\n    }\n    auth {\n      ldap\n      databaseLogin\n      oauthProviders {\n        id\n        label\n        __typename\n      }\n      __typename\n    }\n    uploadLimits {\n      default\n      avatar\n      banner\n      __typename\n    }\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    webPush {\n      enabled\n      publicKey\n      __typename\n    }\n    analytics {\n      id\n      enabled\n      configuration {\n        key\n        value\n        type\n        __typename\n      }\n      __typename\n    }\n    search {\n      global {\n        isEnabled\n        isDefault\n        __typename\n      }\n      __typename\n    }\n    exportFormats {\n      eventParticipants\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BB4T-yINptUAAEEB [debug] Locale detected is en
request_id=GF75BB4T-yINptUAAEEB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query FullConfig {
  config {
    name
    description
    slogan
    version
    registrationsOpen
    registrationsAllowlist
    demoMode
    longEvents
    durationOfLongEvent
    countryCode
    languages
    primaryColor
    secondaryColor
    instanceLogo {
      url
      __typename
    }
    defaultPicture {
      uuid
      url
      name
      metadata {
        width
        height
        blurhash
        __typename
      }
      __typename
    }
    eventCategories {
      id
      label
      __typename
    }
    anonymous {
      participation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      eventCreation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      reports {
        allowed
        __typename
      }
      actorId
      __typename
    }
    location {
      latitude
      longitude
      __typename
    }
    maps {
      tiles {
        endpoint
        attribution
        __typename
      }
      routing {
        type
        __typename
      }
      __typename
    }
    geocoding {
      provider
      autocomplete
      __typename
    }
    resourceProviders {
      type
      endpoint
      software
      __typename
    }
    features {
      groups
      eventCreation
      eventExternal
      antispam
      __typename
    }
    restrictions {
      onlyAdminCanCreateGroups
      onlyGroupsCanCreateEvents
      __typename
    }
    auth {
      ldap
      databaseLogin
      oauthProviders {
        id
        label
        __typename
      }
      __typename
    }
    uploadLimits {
      default
      avatar
      banner
      __typename
    }
    instanceFeeds {
      enabled
      __typename
    }
    webPush {
      enabled
      publicKey
      __typename
    }
    analytics {
      id
      enabled
      configuration {
        key
        value
        type
        __typename
      }
      __typename
    }
    search {
      global {
        isEnabled
        isDefault
        __typename
      }
      __typename
    }
    exportFormats {
      eventParticipants
      __typename
    }
    __typename
  }
}
---
request_id=GF75BB4T4uLzm3wAABLC graphql_operation_name=Registrations [info] Sent 200 in 5ms
request_id=GF75BB4T-yINptUAAEEB graphql_operation_name=FullConfig [info] Sent 200 in 12ms
request_id=GF75BDD4Owzzm3wAAEHB [info] POST /api
request_id=GF75BDD4Owzzm3wAAEHB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "About", "query" => "query About {\n  config {\n    name\n    description\n    longDescription\n    slogan\n    contact\n    languages\n    registrationsOpen\n    registrationsAllowlist\n    anonymous {\n      participation {\n        allowed\n        __typename\n      }\n      __typename\n    }\n    version\n    federating\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BDD4Owzzm3wAAEHB [debug] Locale detected is en
request_id=GF75BDD4Owzzm3wAAEHB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query About {
  config {
    name
    description
    longDescription
    slogan
    contact
    languages
    registrationsOpen
    registrationsAllowlist
    anonymous {
      participation {
        allowed
        __typename
      }
      __typename
    }
    version
    federating
    instanceFeeds {
      enabled
      __typename
    }
    __typename
  }
}
---
request_id=GF75BDD4Owzzm3wAAEHB graphql_operation_name=About [info] Sent 200 in 1ms
request_id=GF75BEHWxMnzm3wAAEIh [info] POST /api
request_id=GF75BEHWxMnzm3wAAEIh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Identities", "query" => "query Identities {\n  loggedUser {\n    id\n    actors {\n      ...ActorFragment\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BEHWxMnzm3wAAEIh [debug] [Guardian] Called on_verify
request_id=GF75BEHWxMnzm3wAAEIh [debug] Receiving claim for user 41
request_id=GF75BEHWxMnzm3wAAEIh [debug] QUERY OK source="users" db=0.7ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75BEHWxMnzm3wAAEIh [debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75BEHWxMnzm3wAAEIh [debug] Locale detected is en
request_id=GF75BEHWxMnzm3wAAEIh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Identities {
  loggedUser {
    id
    actors {
      ...ActorFragment
      __typename
    }
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
[debug] QUERY OK source="actors" db=1.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=1.1ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75BEHWxMnzm3wAAEIh graphql_operation_name=Identities [info] Sent 200 in 6ms
request_id=GF75BEm0uwHHZn8AAEJB [info] POST /api
request_id=GF75BEm412roQngAAEJh [info] POST /api
request_id=GF75BEm7JZWxy5gAAEKB [info] POST /api
request_id=GF75BEm8XEsNptUAABNi [info] POST /api
request_id=GF75BEm8XEsNptUAABNi [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoggedUserQuery", "query" => "query LoggedUserQuery {\n  loggedUser {\n    id\n    email\n    defaultActor {\n      ...ActorFragment\n      __typename\n    }\n    provider\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BEm412roQngAAEJh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoggedUserMemberships", "query" => "query LoggedUserMemberships($membershipName: String, $page: Int, $limit: Int) {\n  loggedUser {\n    id\n    memberships(name: $membershipName, page: $page, limit: $limit) {\n      total\n      elements {\n        id\n        role\n        actor {\n          ...ActorFragment\n          __typename\n        }\n        parent {\n          ...ActorFragment\n          organizedEvents {\n            elements {\n              id\n              title\n              picture {\n                uuid\n                url\n                __typename\n              }\n              __typename\n            }\n            total\n            __typename\n          }\n          __typename\n        }\n        invitedBy {\n          ...ActorFragment\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"limit" => 6}}
  Pipelines: [:graphql]
request_id=GF75BEm412roQngAAEJh [debug] [Guardian] Called on_verify
request_id=GF75BEm8XEsNptUAABNi [debug] [Guardian] Called on_verify
request_id=GF75BEm0uwHHZn8AAEJB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75BEm412roQngAAEJh [debug] Receiving claim for user 41
request_id=GF75BEm8XEsNptUAABNi [debug] Receiving claim for user 41
request_id=GF75BEm0uwHHZn8AAEJB [debug] [Guardian] Called on_verify
request_id=GF75BEm0uwHHZn8AAEJB [debug] Receiving claim for user 41
request_id=GF75BEm7JZWxy5gAAEKB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "HomeUserQueries", "query" => "query HomeUserQueries($afterDateTime: DateTime, $beforeDateTime: DateTime, $page: Int, $limit: Int) {\n  loggedUser {\n    id\n    locale\n    settings {\n      ...UserSettingFragment\n      __typename\n    }\n    participations(\n      afterDatetime: $afterDateTime\n      beforeDatetime: $beforeDateTime\n      page: $page\n      limit: $limit\n    ) {\n      total\n      elements {\n        event {\n          id\n          uuid\n          title\n          picture {\n            uuid\n            url\n            alt\n            __typename\n          }\n          beginsOn\n          status\n          visibility\n          language\n          organizerActor {\n            ...ActorFragment\n            __typename\n          }\n          attributedTo {\n            ...ActorFragment\n            __typename\n          }\n          participantStats {\n            going\n            notApproved\n            participant\n            __typename\n          }\n          options {\n            ...EventOptions\n            __typename\n          }\n          tags {\n            ...TagFragment\n            __typename\n          }\n          __typename\n        }\n        id\n        role\n        actor {\n          ...ActorFragment\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    followedGroupEvents {\n      total\n      elements {\n        profile {\n          id\n          __typename\n        }\n        group {\n          ...ActorFragment\n          __typename\n        }\n        event {\n          id\n          uuid\n          title\n          beginsOn\n          status\n          picture {\n            url\n            __typename\n          }\n          language\n          attributedTo {\n            ...ActorFragment\n            __typename\n          }\n          organizerActor {\n            ...ActorFragment\n            __typename\n          }\n          options {\n            ...EventOptions\n            __typename\n          }\n          physicalAddress {\n            ...AdressFragment\n            __typename\n          }\n          tags {\n            ...TagFragment\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment UserSettingFragment on UserSettings {\n  timezone\n  notificationOnDay\n  notificationEachWeek\n  notificationBeforeEvent\n  notificationPendingParticipation\n  notificationPendingMembership\n  groupNotifications\n  location {\n    range\n    geohash\n    name\n    __typename\n  }\n  __typename\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"afterDateTime" => "2025-08-25T09:38:21.252Z"}}
  Pipelines: [:graphql]
request_id=GF75BEm7JZWxy5gAAEKB [debug] [Guardian] Called on_verify
request_id=GF75BEm7JZWxy5gAAEKB [debug] Receiving claim for user 41
request_id=GF75BEm8XEsNptUAABNi [debug] QUERY OK source="users" db=1.3ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75BEm412roQngAAEJh [debug] QUERY OK source="users" db=1.7ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75BEm7JZWxy5gAAEKB [debug] QUERY OK source="users" db=1.2ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75BEm8XEsNptUAABNi [debug] QUERY OK source="actors" db=1.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75BEm0uwHHZn8AAEJB [debug] QUERY OK source="users" db=2.7ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75BEm8XEsNptUAABNi [debug] Locale detected is en
request_id=GF75BEm8XEsNptUAABNi [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query LoggedUserQuery {
  loggedUser {
    id
    email
    defaultActor {
      ...ActorFragment
      __typename
    }
    provider
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75BEm7JZWxy5gAAEKB [debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75BEm7JZWxy5gAAEKB [debug] Locale detected is en
request_id=GF75BEm7JZWxy5gAAEKB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"afterDateTime" => "2025-08-25T09:38:21.252Z"}
---
query HomeUserQueries($afterDateTime: DateTime, $beforeDateTime: DateTime, $page: Int, $limit: Int) {
  loggedUser {
    id
    locale
    settings {
      ...UserSettingFragment
      __typename
    }
    participations(
      afterDatetime: $afterDateTime
      beforeDatetime: $beforeDateTime
      page: $page
      limit: $limit
    ) {
      total
      elements {
        event {
          id
          uuid
          title
          picture {
            uuid
            url
            alt
            __typename
          }
          beginsOn
          status
          visibility
          language
          organizerActor {
            ...ActorFragment
            __typename
          }
          attributedTo {
            ...ActorFragment
            __typename
          }
          participantStats {
            going
            notApproved
            participant
            __typename
          }
          options {
            ...EventOptions
            __typename
          }
          tags {
            ...TagFragment
            __typename
          }
          __typename
        }
        id
        role
        actor {
          ...ActorFragment
          __typename
        }
        __typename
      }
      __typename
    }
    followedGroupEvents {
      total
      elements {
        profile {
          id
          __typename
        }
        group {
          ...ActorFragment
          __typename
        }
        event {
          id
          uuid
          title
          beginsOn
          status
          picture {
            url
            __typename
          }
          language
          attributedTo {
            ...ActorFragment
            __typename
          }
          organizerActor {
            ...ActorFragment
            __typename
          }
          options {
            ...EventOptions
            __typename
          }
          physicalAddress {
            ...AdressFragment
            __typename
          }
          tags {
            ...TagFragment
            __typename
          }
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment UserSettingFragment on UserSettings {
  timezone
  notificationOnDay
  notificationEachWeek
  notificationBeforeEvent
  notificationPendingParticipation
  notificationPendingMembership
  groupNotifications
  location {
    range
    geohash
    name
    __typename
  }
  __typename
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75BEm412roQngAAEJh [debug] QUERY OK source="actors" db=1.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75BEm412roQngAAEJh [debug] Locale detected is en
request_id=GF75BEm412roQngAAEJh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"limit" => 6}
---
query LoggedUserMemberships($membershipName: String, $page: Int, $limit: Int) {
  loggedUser {
    id
    memberships(name: $membershipName, page: $page, limit: $limit) {
      total
      elements {
        id
        role
        actor {
          ...ActorFragment
          __typename
        }
        parent {
          ...ActorFragment
          organizedEvents {
            elements {
              id
              title
              picture {
                uuid
                url
                __typename
              }
              __typename
            }
            total
            __typename
          }
          __typename
        }
        invitedBy {
          ...ActorFragment
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75BEm0uwHHZn8AAEJB [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75BEm0uwHHZn8AAEJB [debug] Locale detected is en
request_id=GF75BEm0uwHHZn8AAEJB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75BEm8XEsNptUAABNi graphql_operation_name=LoggedUserQuery [info] Sent 200 in 6ms
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
[debug] QUERY OK source="actors" db=1.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK db=1.0ms
SELECT count(*) FROM (SELECT sm0."id" AS "id", sm0."role" AS "role", sm0."url" AS "url", sm0."member_since" AS "member_since", sm0."metadata" AS "metadata", sm0."invited_by_id" AS "invited_by_id", sm0."parent_id" AS "parent_id", sm0."actor_id" AS "actor_id", sm0."inserted_at" AS "inserted_at", sm0."updated_at" AS "updated_at" FROM "members" AS sm0 INNER JOIN "actors" AS sa1 ON sm0."actor_id" = sa1."id" WHERE ((sa1."user_id" = 41) AND (sm0."role" != 'not_approved'))) AS s0
[debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
[debug] QUERY OK source="members" db=1.6ms
SELECT m0."id", m0."role", m0."url", m0."member_since", m0."metadata", m0."invited_by_id", m0."parent_id", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "members" AS m0 INNER JOIN "actors" AS a1 ON m0."actor_id" = a1."id" WHERE ((a1."user_id" = 41) AND (m0."role" != 'not_approved')) LIMIT 6 OFFSET 0
request_id=GF75BEm412roQngAAEJh graphql_operation_name=LoggedUserMemberships [info] Sent 200 in 10ms
request_id=GF75BEm7JZWxy5gAAEKB graphql_operation_name=HomeUserQueries [debug] QUERY OK source="user_settings" db=0.6ms
SELECT u0."user_id", u0."timezone", u0."notification_on_day", u0."notification_each_week", u0."notification_before_event", u0."notification_pending_participation", u0."notification_pending_membership", u0."group_notifications", u0."last_notification_sent", u0."location", u0."inserted_at", u0."updated_at" FROM "user_settings" AS u0 WHERE (u0."user_id" = 41)
request_id=GF75BEm0uwHHZn8AAEJB [debug] QUERY OK source="actors" db=2.1ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK source="participants" db=1.5ms
SELECT p0."id", p0."role", p0."url", p0."code", p0."metadata", p0."event_id", p0."actor_id", p0."inserted_at", p0."updated_at" FROM "participants" AS p0 INNER JOIN "events" AS e1 ON p0."event_id" = e1."id" INNER JOIN "actors" AS a2 ON p0."actor_id" = a2."id" WHERE ((a2."user_id" = 41) AND (p0."role" != 'not_approved')) AND (e1."begins_on" > '2025-08-25 09:38:21Z') ORDER BY e1."begins_on" LIMIT 10 OFFSET 0
[debug] QUERY OK source="events" db=1.8ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:21.550342Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK db=2.6ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:21.550342Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK db=4.4ms
SELECT count(*) FROM (SELECT sp0."id" AS "id", sp0."role" AS "role", sp0."url" AS "url", sp0."code" AS "code", sp0."metadata" AS "metadata", sp0."event_id" AS "event_id", sp0."actor_id" AS "actor_id", sp0."inserted_at" AS "inserted_at", sp0."updated_at" AS "updated_at" FROM "participants" AS sp0 INNER JOIN "events" AS se1 ON sp0."event_id" = se1."id" INNER JOIN "actors" AS sa2 ON sp0."actor_id" = sa2."id" WHERE ((sa2."user_id" = 41) AND (sp0."role" != 'not_approved')) AND (se1."begins_on" > '2025-08-25 09:38:21Z')) AS s0
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=1.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=1.6ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
[debug] QUERY OK source="events" db=7.1ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at", p1."id", p1."role", p1."url", p1."code", p1."metadata", p1."event_id", p1."actor_id", p1."inserted_at", p1."updated_at", f4."id", f4."approved", f4."url", f4."notify", f4."inserted_at", f4."updated_at", f4."target_actor_id", f4."actor_id" FROM "events" AS e0 LEFT OUTER JOIN "participants" AS p1 ON e0."id" = p1."event_id" INNER JOIN "actors" AS a2 ON p1."actor_id" = a2."id" INNER JOIN "actors" AS a3 ON e0."attributed_to_id" = a3."id" LEFT OUTER JOIN "followers" AS f4 ON a3."id" = f4."target_actor_id" LEFT OUTER JOIN "members" AS m5 ON a3."id" = m5."parent_id" INNER JOIN "actors" AS a6 ON (a6."id" = f4."actor_id") OR (a6."id" = m5."actor_id") WHERE (e0."begins_on" > '2025-08-25 09:38:21Z') AND (((f4."approved" OR m5."role" = ANY('{member,moderator,administrator,creator}')) AND (a6."user_id" = 41)) AND (a2."user_id" != 41)) LIMIT 10 OFFSET 0
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=1.3ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
[debug] QUERY OK db=8.4ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "participants" AS sp1 ON se0."id" = sp1."event_id" INNER JOIN "actors" AS sa2 ON sp1."actor_id" = sa2."id" INNER JOIN "actors" AS sa3 ON se0."attributed_to_id" = sa3."id" LEFT OUTER JOIN "followers" AS sf4 ON sa3."id" = sf4."target_actor_id" LEFT OUTER JOIN "members" AS sm5 ON sa3."id" = sm5."parent_id" INNER JOIN "actors" AS sa6 ON (sa6."id" = sf4."actor_id") OR (sa6."id" = sm5."actor_id") WHERE (se0."begins_on" > '2025-08-25 09:38:21Z') AND (((sf4."approved" OR sm5."role" = ANY('{member,moderator,administrator,creator}')) AND (sa6."user_id" = 41)) AND (sa2."user_id" != 41))) AS s0
request_id=GF75BEm7JZWxy5gAAEKB graphql_operation_name=HomeUserQueries [info] Sent 200 in 25ms
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=1.7ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [info] Sent 500 in 102ms
request_id=GF75BEm0uwHHZn8AAEJB graphql_operation_name=FetchEvents [error] GenServer #PID<0.5353.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:continue, :handle_connection}
State: {%ThousandIsland.Socket{socket: #Port<0.255>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.255009>, start_time: -576459216063548052, start_metadata: %{remote_port: 44658, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.255009>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9075>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.InitialHandler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true}}
request_id=GF75BNMOG1ixy5gAABUi [info] POST /api
request_id=GF75BNMOG1ixy5gAABUi [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Logout", "query" => "mutation Logout($refreshToken: String!) {\n  logout(refreshToken: $refreshToken)\n}", "variables" => %{"refreshToken" => "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg2OTksImlhdCI6MTc1NjExNDY5OSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiMWRkZDcyMTAtMDc3OS00Y2E0LTk1MjgtNGVkYTY5OTIzNmU0IiwibmJmIjoxNzU2MTE0Njk4LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.2tSEtTI3m8qd6k_TZtoc7jSKcexAmEXd5beInva1XxmqbXBsd9zfFxWMuuMDS4WhcL3yMVekWecyTXtZfE4sEw"}}
  Pipelines: [:graphql]
request_id=GF75BNMOG1ixy5gAABUi [debug] [Guardian] Called on_verify
request_id=GF75BNMOG1ixy5gAABUi [debug] Receiving claim for user 41
request_id=GF75BNMOG1ixy5gAABUi [debug] QUERY OK source="users" db=0.5ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75BNMOG1ixy5gAABUi [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75BNMOG1ixy5gAABUi [debug] Locale detected is en
request_id=GF75BNMOG1ixy5gAABUi [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"refreshToken" => "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg2OTksImlhdCI6MTc1NjExNDY5OSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiMWRkZDcyMTAtMDc3OS00Y2E0LTk1MjgtNGVkYTY5OTIzNmU0IiwibmJmIjoxNzU2MTE0Njk4LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.2tSEtTI3m8qd6k_TZtoc7jSKcexAmEXd5beInva1XxmqbXBsd9zfFxWMuuMDS4WhcL3yMVekWecyTXtZfE4sEw"}
---
mutation Logout($refreshToken: String!) {
  logout(refreshToken: $refreshToken)
}
---
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75BNMOG1ixy5gAABUi [debug] [Guardian] Called on_verify
request_id=GF75BNMOG1ixy5gAABUi [debug] QUERY OK source="guardian_tokens" db=1.8ms
SELECT g0."jti", g0."typ", g0."aud", g0."iss", g0."sub", g0."exp", g0."jwt", g0."claims", g0."inserted_at", g0."updated_at" FROM "guardian_tokens" AS g0 WHERE ((g0."jti" = '1ddd7210-0779-4ca4-9528-4eda699236e4') AND (g0."aud" = 'mobilizon'))
request_id=GF75BNMOG1ixy5gAABUi [debug] [Guardian] Called on_revoke
request_id=GF75BNMOG1ixy5gAABUi [debug] QUERY OK source="guardian_tokens" db=1.9ms
SELECT g0."jti", g0."typ", g0."aud", g0."iss", g0."sub", g0."exp", g0."jwt", g0."claims", g0."inserted_at", g0."updated_at" FROM "guardian_tokens" AS g0 WHERE ((g0."jti" = '1ddd7210-0779-4ca4-9528-4eda699236e4') AND (g0."aud" = 'mobilizon'))
request_id=GF75BNMOG1ixy5gAABUi [debug] QUERY OK source="guardian_tokens" db=1.2ms
DELETE FROM "guardian_tokens" WHERE "jti" = '1ddd7210-0779-4ca4-9528-4eda699236e4'
request_id=GF75BNMOG1ixy5gAABUi graphql_operation_name=Logout [info] Sent 200 in 9ms
request_id=GF75BNhSALXoQngAAERh [info] POST /api
request_id=GF75BNhSALXoQngAAERh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75BNhSALXoQngAAERh [debug] Locale detected is en
request_id=GF75BNhSALXoQngAAERh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75BNhSALXoQngAAERh [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=1.0ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:23.934996Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=1.3ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:23.934996Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.2ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.4ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.2ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [info] Sent 500 in 80ms
request_id=GF75BNhSALXoQngAAERh graphql_operation_name=FetchEvents [error] GenServer #PID<0.5309.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.253>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.253>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.251108>, start_time: -576459216798386719, start_metadata: %{remote_port: 44638, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.251108>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9071>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 2}}
request_id=GF75BQcTWTexy5gAABbC [info] POST /api
request_id=GF75BQcTWTexy5gAABbC [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75BQcTWTexy5gAABbC [debug] Locale detected is en
request_id=GF75BQcTWTexy5gAABbC [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75BQcTWTexy5gAABbC [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=1.1ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:24.719290Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=1.3ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:24.719290Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.6ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.3ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.2ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [info] Sent 500 in 82ms
request_id=GF75BQcTWTexy5gAABbC graphql_operation_name=FetchEvents [error] GenServer #PID<0.5310.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.254>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.254>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4044881922.75987>, start_time: -576459216795630136, start_metadata: %{remote_port: 44642, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4044881922.75987>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9073>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 3}}
request_id=GF75BUvECrINptUAAEVB [info] POST /api
request_id=GF75BUvECrINptUAAEVB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75BUvECrINptUAAEVB [debug] Locale detected is en
request_id=GF75BUvECrINptUAAEVB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75BUvECrINptUAAEVB [debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=0.8ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:25.872040Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=1.2ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:25.872040Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=1.2ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.8ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.2ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [info] Sent 500 in 76ms
request_id=GF75BUvECrINptUAAEVB graphql_operation_name=FetchEvents [error] GenServer #PID<0.4880.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.240>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.240>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.219119>, start_time: -576459229127129183, start_metadata: %{remote_port: 39928, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.219119>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9053>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 13}}
request_id=GF75Ba8asPSAEWYAAEbB [info] GET /
request_id=GF75Ba8asPSAEWYAAEbB [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => []}
  Pipelines: [:browser]
request_id=GF75Ba8asPSAEWYAAEbB [debug] Locale detected is en
request_id=GF75Ba8asPSAEWYAAEbB [info] Sent 200 in 1ms
request_id=GF75BbZAZrfzm3wAAEbh [info] GET /auth/linkedin
request_id=GF75BbZAZrfzm3wAAEbh [debug] Processing with Mobilizon.Web.AuthController.request/2
  Parameters: %{"provider" => "linkedin"}
  Pipelines: [:browser]
request_id=GF75BbZAZrfzm3wAAEbh [debug] Locale detected is en
request_id=GF75BbZAZrfzm3wAAEbh [info] Handling LinkedIn OAuth request with direct implementation
request_id=GF75BbZAZrfzm3wAAEbh [info] LinkedIn OAuth: Generating authorization URL
request_id=GF75BbZAZrfzm3wAAEbh [debug] LinkedIn OAuth: Authorization parameters: [
  scope: "openid profile email",
  state: "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk"
]
request_id=GF75BbZAZrfzm3wAAEbh [debug] LinkedIn OAuth: Client configuration: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: nil,
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75BbZAZrfzm3wAAEbh [info] LinkedIn OAuth: Generated authorization URL: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk
request_id=GF75BbZAZrfzm3wAAEbh [info] Redirecting to LinkedIn OAuth: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk
request_id=GF75BbZAZrfzm3wAAEbh [info] Sent 302 in 1ms
request_id=GF75Bcl5QFnzm3wAAEcB [info] GET /auth/linkedin/callback
request_id=GF75Bcl5QFnzm3wAAEcB [debug] Processing with Mobilizon.Web.AuthController.callback/2
  Parameters: %{"code" => "AQQc5YXq3E0yTjwNsiz2i_7hIxgLgecZMpefH84zohhR5-mWfGnFAvKY0i_Nv3--cKEMWi1pTpMkSZDYbK7tpy0uxgk5pku77t2BIG8XfYGmJjT67uxrO_kM0F7tLYxmE5fkDTcO0N6AwyUUyRsSFIvVp5ur6NruDlRPCQo6YZ4sVjJVhNY12Eqm9LRDnSX1e-ImngQy07Ezi7FQ2sM", "provider" => "linkedin", "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk"}
  Pipelines: [:browser]
request_id=GF75Bcl5QFnzm3wAAEcB [debug] Locale detected is en
request_id=GF75Bcl5QFnzm3wAAEcB [info] Processing LinkedIn OAuth callback with direct implementation
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn callback params: %{
  "code" => "AQQc5YXq3E0yTjwNsiz2i_7hIxgLgecZMpefH84zohhR5-mWfGnFAvKY0i_Nv3--cKEMWi1pTpMkSZDYbK7tpy0uxgk5pku77t2BIG8XfYGmJjT67uxrO_kM0F7tLYxmE5fkDTcO0N6AwyUUyRsSFIvVp5ur6NruDlRPCQo6YZ4sVjJVhNY12Eqm9LRDnSX1e-ImngQy07Ezi7FQ2sM",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk"
}
request_id=GF75Bcl5QFnzm3wAAEcB [info] LinkedIn OAuth: Received callback with code and state
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Authorization code (first 20 chars): AQQc5YXq3E0yTjwNsiz2...
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: State parameter: SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Full callback params: %{
  "code" => "AQQc5YXq3E0yTjwNsiz2i_7hIxgLgecZMpefH84zohhR5-mWfGnFAvKY0i_Nv3--cKEMWi1pTpMkSZDYbK7tpy0uxgk5pku77t2BIG8XfYGmJjT67uxrO_kM0F7tLYxmE5fkDTcO0N6AwyUUyRsSFIvVp5ur6NruDlRPCQo6YZ4sVjJVhNY12Eqm9LRDnSX1e-ImngQy07Ezi7FQ2sM",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZMU0lPMnA5WjBNd2h2Vkp1QzRnb2xRbQAAAAl0aW1lc3RhbXBiaKwvE24GAMHkl-CYAWIAAVGA.ozCtcbCI_0VfIuTrUk7Pbeg3SwfKpHpAjcmP0CFj0jk"
}
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Request headers: %{
  "accept" => "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
  "accept-encoding" => "gzip, deflate, br, zstd",
  "accept-language" => "en-US,en;q=0.9,pl;q=0.8",
  "cache-control" => "no-cache",
  "connection" => "keep-alive",
  "host" => "localhost:4000",
  "pragma" => "no-cache",
  "referer" => "http://localhost:4000/",
  "sec-ch-ua" => "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"",
  "sec-ch-ua-mobile" => "?0",
  "sec-ch-ua-platform" => "\"macOS\"",
  "sec-fetch-dest" => "document",
  "sec-fetch-mode" => "navigate",
  "sec-fetch-site" => "cross-site",
  "sec-fetch-user" => "?1",
  "upgrade-insecure-requests" => "1",
  "user-agent" => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
request_id=GF75Bcl5QFnzm3wAAEcB [info] LinkedIn OAuth state verified successfully
request_id=GF75Bcl5QFnzm3wAAEcB [info] LinkedIn OAuth: Starting authentication flow
request_id=GF75Bcl5QFnzm3wAAEcB [info] LinkedIn OAuth: Token exchange attempt 1/3
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Token exchange request parameters: [
  code: "AQQc5YXq3E0yTjwNsiz2i_7hIxgLgecZMpefH84zohhR5-mWfGnFAvKY0i_Nv3--cKEMWi1pTpMkSZDYbK7tpy0uxgk5pku77t2BIG8XfYGmJjT67uxrO_kM0F7tLYxmE5fkDTcO0N6AwyUUyRsSFIvVp5ur6NruDlRPCQo6YZ4sVjJVhNY12Eqm9LRDnSX1e-ImngQy07Ezi7FQ2sM",
  grant_type: "authorization_code",
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw=="
]
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Making token request to: https://www.linkedin.com/oauth/v2/accessToken
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Client ID: 77es95oq72tify
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Redirect URI: http://localhost:4000/auth/linkedin/callback
request_id=GF75Bcl5QFnzm3wAAEcB [info] LinkedIn OAuth: Token exchange successful on attempt 1
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Received token: %OAuth2.AccessToken{
  access_token: "AQW2P8uQn_RmjoHKVwWefjKHLWh_4lxme7My4xZj5HWofalue5eLS1NjLdTeLHfLmczkVq0SbWrBUoPvQ339Z8m_wgjcvRQXS9kXsdmPYmrK-V2tCxOHMF2YFdcAqQahTPUpsNdHmRSKwig0K7mHWlmwxd8hA8a35cUf7HE3J3tfDefrz6oxPUDYARyGY77ZScAlq4d4vazeQgIgmMVptlJUT3XPOm1ZIL-ppLyhWR78hwjbjo_OKvAgD9NPBGae7zbcisQX-8V8PZTh22fgE4uJLZelXuApYsrxPb8pAt5KvW_ORNVbg5kWtQAmn3lh-qcSguZnazcxHfW589dJ2bOu2UVtJA",
  refresh_token: nil,
  expires_at: 1761298707,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDcwOCwiZXhwIjoxNzU2MTE4MzA4LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.IN_SuoZRIvwJZPX9cIlq1toFT17r7jiH6dRXNILhVD6frTTue_RpPI_6KXMhNp_QHn2JocsGpJbDYYpK7mmT2b5YVAf9K0wt2HPCUxDgWqUijhibzQa_YNiZ8IIz8GeyAVcQgg7u26ioGqNM6rUeujoMW-Aqhsg692c2P8KpEjAX1RtIPmPEMIFyiSu7m_vnzdPYS02QSyaXJzWjMhP47Qf_j0Pv-vSPhQS-ua5DIL8etbglLUMEnxTli2Qbq7nkF-Un4OLpGPuQfSU_qI8bUL6W9LileICB5tSjlu_aErkqBOLgj1PTqTD65YMEwYk8YAQKd8DcQmOZ34MEsQ5GhkAeJFHY_n7S-XWdNJyj4BSDssqeRSkn_6qzGgeFfnjy9mCGQM6apQRHgQ2bAu_yachHdQPJnGJ0KJy9lVPsKjBBwcOJqncwXjN2ygTac7Io4WujVCifc2qLdxP5I6SP-262dHB2IyoXoNREFB2--vzHvcqpPUxlYf5LXmW0rg0B2qax6NBAnppe_7GK3QgykY7rShPrGgD_Je-BfyGFqvKfn8HC8qDZD1gkG-iy63gReSiKmnaRXJvNPQ8khlisROFIp3AapD8cxjVkoNdU3Rdwswae1P9JXClZBii3_pIspuWgOh64K4vgVVDr4zXcTW2ubvM4aIsTH1sZ4xYjpX0",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Full client result: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: %OAuth2.AccessToken{
    access_token: "AQW2P8uQn_RmjoHKVwWefjKHLWh_4lxme7My4xZj5HWofalue5eLS1NjLdTeLHfLmczkVq0SbWrBUoPvQ339Z8m_wgjcvRQXS9kXsdmPYmrK-V2tCxOHMF2YFdcAqQahTPUpsNdHmRSKwig0K7mHWlmwxd8hA8a35cUf7HE3J3tfDefrz6oxPUDYARyGY77ZScAlq4d4vazeQgIgmMVptlJUT3XPOm1ZIL-ppLyhWR78hwjbjo_OKvAgD9NPBGae7zbcisQX-8V8PZTh22fgE4uJLZelXuApYsrxPb8pAt5KvW_ORNVbg5kWtQAmn3lh-qcSguZnazcxHfW589dJ2bOu2UVtJA",
    refresh_token: nil,
    expires_at: 1761298707,
    token_type: "Bearer",
    other_params: %{
      "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDcwOCwiZXhwIjoxNzU2MTE4MzA4LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.IN_SuoZRIvwJZPX9cIlq1toFT17r7jiH6dRXNILhVD6frTTue_RpPI_6KXMhNp_QHn2JocsGpJbDYYpK7mmT2b5YVAf9K0wt2HPCUxDgWqUijhibzQa_YNiZ8IIz8GeyAVcQgg7u26ioGqNM6rUeujoMW-Aqhsg692c2P8KpEjAX1RtIPmPEMIFyiSu7m_vnzdPYS02QSyaXJzWjMhP47Qf_j0Pv-vSPhQS-ua5DIL8etbglLUMEnxTli2Qbq7nkF-Un4OLpGPuQfSU_qI8bUL6W9LileICB5tSjlu_aErkqBOLgj1PTqTD65YMEwYk8YAQKd8DcQmOZ34MEsQ5GhkAeJFHY_n7S-XWdNJyj4BSDssqeRSkn_6qzGgeFfnjy9mCGQM6apQRHgQ2bAu_yachHdQPJnGJ0KJy9lVPsKjBBwcOJqncwXjN2ygTac7Io4WujVCifc2qLdxP5I6SP-262dHB2IyoXoNREFB2--vzHvcqpPUxlYf5LXmW0rg0B2qax6NBAnppe_7GK3QgykY7rShPrGgD_Je-BfyGFqvKfn8HC8qDZD1gkG-iy63gReSiKmnaRXJvNPQ8khlisROFIp3AapD8cxjVkoNdU3Rdwswae1P9JXClZBii3_pIspuWgOh64K4vgVVDr4zXcTW2ubvM4aIsTH1sZ4xYjpX0",
      "scope" => "email,openid,profile"
    }
  },
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75Bcl5QFnzm3wAAEcB [info] LinkedIn OAuth: User info fetch attempt 1/3
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Making user info request to: https://api.linkedin.com/v2/userinfo
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Request headers: [
  {"Authorization",
   "Bearer AQW2P8uQn_RmjoHKVwWefjKHLWh_4lxme7My4xZj5HWofalue5eLS1NjLdTeLHfLmczkVq0SbWrBUoPvQ339Z8m_wgjcvRQXS9kXsdmPYmrK-V2tCxOHMF2YFdcAqQahTPUpsNdHmRSKwig0K7mHWlmwxd8hA8a35cUf7HE3J3tfDefrz6oxPUDYARyGY77ZScAlq4d4vazeQgIgmMVptlJUT3XPOm1ZIL-ppLyhWR78hwjbjo_OKvAgD9NPBGae7zbcisQX-8V8PZTh22fgE4uJLZelXuApYsrxPb8pAt5KvW_ORNVbg5kWtQAmn3lh-qcSguZnazcxHfW589dJ2bOu2UVtJA"}
]
request_id=GF75Bcl5QFnzm3wAAEcB [debug] LinkedIn OAuth: Access token (first 20 chars): AQW2P8uQn_RmjoHKVwWe...
request_id=GF75Bcl5QFnzm3wAAEcB [error] LinkedIn OAuth: User info fetch failed with status 401
request_id=GF75Bcl5QFnzm3wAAEcB [error] LinkedIn OAuth: User info response headers: [
  {"Content-Type", "application/json"},
  {"X-Restli-Gateway-Error", "true"},
  {"Date", "Mon, 25 Aug 2025 09:38:28 GMT"},
  {"Transfer-Encoding", "chunked"},
  {"Connection", "keep-alive"},
  {"X-Li-Fabric", "prod-lva1"},
  {"X-Li-Pop", "prod-lva1-x"},
  {"X-LI-Proto", "http/1.1"},
  {"X-LI-UUID", "AAY9LVFf51EJc1TmdUziOw=="},
  {"Set-Cookie",
   "bcookie=\"v=2&058b9016-4b55-4ceb-8eae-29457fd51082\"; Domain=.linkedin.com; Expires=Tue, 25-Aug-2026 09:38:28 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "li_gc=MTswOzE3NTYxMTQ3MDg7MjswMjExe/x7F3nQPD19VZwudfaPNBHSV+LAYHFSnvJNs3xxvQ==; Domain=.linkedin.com; Expires=Sat, 21 Feb 2026 09:38:28 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "lidc=\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114708:t=1756137693:v=2:sig=AQHaUxk9GTSgtMGezFrMYZvpc-YNRUPx\""},
  {"X-LI-Route-Key",
   "\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114708:t=1756137693:v=2:sig=AQHaUxk9GTSgtMGezFrMYZvpc-YNRUPx\""}
]
request_id=GF75Bcl5QFnzm3wAAEcB [error] LinkedIn OAuth: User info response body: {"status":401,"serviceErrorCode":65601,"code":"REVOKED_ACCESS_TOKEN","message":"The token used in the request has been revoked by the user"}
request_id=GF75Bcl5QFnzm3wAAEcB [error] LinkedIn OAuth: Authentication failed - {:http_error, 401, "{\"status\":401,\"serviceErrorCode\":65601,\"code\":\"REVOKED_ACCESS_TOKEN\",\"message\":\"The token used in the request has been revoked by the user\"}"}
request_id=GF75Bcl5QFnzm3wAAEcB [error] LinkedIn OAuth authentication failed: {:http_error, 401,
 "{\"status\":401,\"serviceErrorCode\":65601,\"code\":\"REVOKED_ACCESS_TOKEN\",\"message\":\"The token used in the request has been revoked by the user\"}"}
request_id=GF75Bcl5QFnzm3wAAEcB [info] Sent 302 in 506ms
request_id=GF75Be4HxkDzm3wAAEch [info] GET /login
request_id=GF75Be4HxkDzm3wAAEch [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"code" => "Error with Login Provider", "path" => ["login"], "provider" => "linkedin"}
  Pipelines: [:browser]
request_id=GF75Be4HxkDzm3wAAEch [debug] Locale detected is en
request_id=GF75Be4HxkDzm3wAAEch [info] Sent 200 in 846µs
request_id=GF75Bgrj7CPzm3wAAEdB [info] GET /.well-known/appspecific/com.chrome.devtools.json
request_id=GF75Bgrj7CPzm3wAAEdB [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => [".well-known", "appspecific", "com.chrome.devtools.json"]}
  Pipelines: [:browser]
request_id=GF75Bgrj7CPzm3wAAEdB [debug] Locale detected is en
request_id=GF75Bgrj7CPzm3wAAEdB [info] Sent 200 in 2ms
request_id=GF75BiVDHSZpEcYAAEdh [info] GET /manifest.webmanifest
request_id=GF75BiVDHSZpEcYAAEdh [debug] Processing with Mobilizon.Web.ManifestController.manifest/2
  Parameters: %{}
  Pipelines: []
request_id=GF75BiVDHSZpEcYAAEdh [info] Sent 200 in 114µs
request_id=GF75Bi179Sjzm3wAAEeh [info] POST /api
request_id=GF75Bi179Sjzm3wAAEeh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FullConfig", "query" => "query FullConfig {\n  config {\n    name\n    description\n    slogan\n    version\n    registrationsOpen\n    registrationsAllowlist\n    demoMode\n    longEvents\n    durationOfLongEvent\n    countryCode\n    languages\n    primaryColor\n    secondaryColor\n    instanceLogo {\n      url\n      __typename\n    }\n    defaultPicture {\n      uuid\n      url\n      name\n      metadata {\n        width\n        height\n        blurhash\n        __typename\n      }\n      __typename\n    }\n    eventCategories {\n      id\n      label\n      __typename\n    }\n    anonymous {\n      participation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      eventCreation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      reports {\n        allowed\n        __typename\n      }\n      actorId\n      __typename\n    }\n    location {\n      latitude\n      longitude\n      __typename\n    }\n    maps {\n      tiles {\n        endpoint\n        attribution\n        __typename\n      }\n      routing {\n        type\n        __typename\n      }\n      __typename\n    }\n    geocoding {\n      provider\n      autocomplete\n      __typename\n    }\n    resourceProviders {\n      type\n      endpoint\n      software\n      __typename\n    }\n    features {\n      groups\n      eventCreation\n      eventExternal\n      antispam\n      __typename\n    }\n    restrictions {\n      onlyAdminCanCreateGroups\n      onlyGroupsCanCreateEvents\n      __typename\n    }\n    auth {\n      ldap\n      databaseLogin\n      oauthProviders {\n        id\n        label\n        __typename\n      }\n      __typename\n    }\n    uploadLimits {\n      default\n      avatar\n      banner\n      __typename\n    }\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    webPush {\n      enabled\n      publicKey\n      __typename\n    }\n    analytics {\n      id\n      enabled\n      configuration {\n        key\n        value\n        type\n        __typename\n      }\n      __typename\n    }\n    search {\n      global {\n        isEnabled\n        isDefault\n        __typename\n      }\n      __typename\n    }\n    exportFormats {\n      eventParticipants\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75Bi179Sjzm3wAAEeh [debug] Locale detected is en
request_id=GF75Bi179Sjzm3wAAEeh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query FullConfig {
  config {
    name
    description
    slogan
    version
    registrationsOpen
    registrationsAllowlist
    demoMode
    longEvents
    durationOfLongEvent
    countryCode
    languages
    primaryColor
    secondaryColor
    instanceLogo {
      url
      __typename
    }
    defaultPicture {
      uuid
      url
      name
      metadata {
        width
        height
        blurhash
        __typename
      }
      __typename
    }
    eventCategories {
      id
      label
      __typename
    }
    anonymous {
      participation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      eventCreation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      reports {
        allowed
        __typename
      }
      actorId
      __typename
    }
    location {
      latitude
      longitude
      __typename
    }
    maps {
      tiles {
        endpoint
        attribution
        __typename
      }
      routing {
        type
        __typename
      }
      __typename
    }
    geocoding {
      provider
      autocomplete
      __typename
    }
    resourceProviders {
      type
      endpoint
      software
      __typename
    }
    features {
      groups
      eventCreation
      eventExternal
      antispam
      __typename
    }
    restrictions {
      onlyAdminCanCreateGroups
      onlyGroupsCanCreateEvents
      __typename
    }
    auth {
      ldap
      databaseLogin
      oauthProviders {
        id
        label
        __typename
      }
      __typename
    }
    uploadLimits {
      default
      avatar
      banner
      __typename
    }
    instanceFeeds {
      enabled
      __typename
    }
    webPush {
      enabled
      publicKey
      __typename
    }
    analytics {
      id
      enabled
      configuration {
        key
        value
        type
        __typename
      }
      __typename
    }
    search {
      global {
        isEnabled
        isDefault
        __typename
      }
      __typename
    }
    exportFormats {
      eventParticipants
      __typename
    }
    __typename
  }
}
---
request_id=GF75Bi179Sjzm3wAAEeh graphql_operation_name=FullConfig [info] Sent 200 in 4ms
request_id=GF75BjQq0pouevYAAEhB [info] POST /api
request_id=GF75BjQq0pouevYAAEhB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Registrations", "query" => "query Registrations {\n  config {\n    registrationsOpen\n    registrationsAllowlist\n    auth {\n      databaseLogin\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BjQq0pouevYAAEhB [debug] Locale detected is en
request_id=GF75BjQq0pouevYAAEhB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Registrations {
  config {
    registrationsOpen
    registrationsAllowlist
    auth {
      databaseLogin
      __typename
    }
    __typename
  }
}
---
request_id=GF75BjQq0pouevYAAEhB graphql_operation_name=Registrations [info] Sent 200 in 752µs
request_id=GF75Bks_ARHSEncAAEih [info] POST /api
request_id=GF75Bks_ARHSEncAAEih [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "About", "query" => "query About {\n  config {\n    name\n    description\n    longDescription\n    slogan\n    contact\n    languages\n    registrationsOpen\n    registrationsAllowlist\n    anonymous {\n      participation {\n        allowed\n        __typename\n      }\n      __typename\n    }\n    version\n    federating\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75Bks_ARHSEncAAEih [debug] Locale detected is en
request_id=GF75Bks_ARHSEncAAEih [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query About {
  config {
    name
    description
    longDescription
    slogan
    contact
    languages
    registrationsOpen
    registrationsAllowlist
    anonymous {
      participation {
        allowed
        __typename
      }
      __typename
    }
    version
    federating
    instanceFeeds {
      enabled
      __typename
    }
    __typename
  }
}
---
request_id=GF75Bks_ARHSEncAAEih graphql_operation_name=About [info] Sent 200 in 1ms
request_id=GF75BlKApywuevYAABpi [info] POST /api
request_id=GF75BlKApywuevYAABpi [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoginConfig", "query" => "query LoginConfig {\n  config {\n    auth {\n      databaseLogin\n      oauthProviders {\n        id\n        label\n        __typename\n      }\n      __typename\n    }\n    registrationsOpen\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75BlKApywuevYAABpi [debug] Locale detected is en
request_id=GF75BlKApywuevYAABpi [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query LoginConfig {
  config {
    auth {
      databaseLogin
      oauthProviders {
        id
        label
        __typename
      }
      __typename
    }
    registrationsOpen
    __typename
  }
}
---
request_id=GF75BlKApywuevYAABpi graphql_operation_name=LoginConfig [info] Sent 200 in 842µs
request_id=GF75BzrO-_cuevYAAEkB [info] GET /auth/linkedin
request_id=GF75BzrO-_cuevYAAEkB [debug] Processing with Mobilizon.Web.AuthController.request/2
  Parameters: %{"provider" => "linkedin"}
  Pipelines: [:browser]
request_id=GF75BzrO-_cuevYAAEkB [debug] Locale detected is en
request_id=GF75BzrO-_cuevYAAEkB [info] Handling LinkedIn OAuth request with direct implementation
request_id=GF75BzrO-_cuevYAAEkB [info] LinkedIn OAuth: Generating authorization URL
request_id=GF75BzrO-_cuevYAAEkB [debug] LinkedIn OAuth: Authorization parameters: [
  scope: "openid profile email",
  state: "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w"
]
request_id=GF75BzrO-_cuevYAAEkB [debug] LinkedIn OAuth: Client configuration: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: nil,
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75BzrO-_cuevYAAEkB [info] LinkedIn OAuth: Generated authorization URL: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w
request_id=GF75BzrO-_cuevYAAEkB [info] Redirecting to LinkedIn OAuth: https://www.linkedin.com/oauth/v2/authorization?client_id=77es95oq72tify&redirect_uri=http%3A%2F%2Flocalhost%3A4000%2Fauth%2Flinkedin%2Fcallback&response_type=code&scope=openid+profile+email&state=SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w
request_id=GF75BzrO-_cuevYAAEkB [info] Sent 302 in 860µs
request_id=GF75B0_9hzAuevYAAEkh [info] GET /auth/linkedin/callback
request_id=GF75B0_9hzAuevYAAEkh [debug] Processing with Mobilizon.Web.AuthController.callback/2
  Parameters: %{"code" => "AQSkR_pI9g6HIHBdJKAqUsUkJhcENfBTxYk2UbKptnEva-tnHfUll1F6wegter4EQLkiVeF4dN7l846qriOzCPlQg5lg4dYyh4CIW6zpCFuG7McJv6MGtFicRbckqGKZUhmH0SgdnU4U1Yh8w0MCIwatrLXjjYgfZUvm_TekjHdJf87a0PC3RjlfY6iC1sOtuhs79dyvC0S6Q3Y5ubQ", "provider" => "linkedin", "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w"}
  Pipelines: [:browser]
request_id=GF75B0_9hzAuevYAAEkh [debug] Locale detected is en
request_id=GF75B0_9hzAuevYAAEkh [info] Processing LinkedIn OAuth callback with direct implementation
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn callback params: %{
  "code" => "AQSkR_pI9g6HIHBdJKAqUsUkJhcENfBTxYk2UbKptnEva-tnHfUll1F6wegter4EQLkiVeF4dN7l846qriOzCPlQg5lg4dYyh4CIW6zpCFuG7McJv6MGtFicRbckqGKZUhmH0SgdnU4U1Yh8w0MCIwatrLXjjYgfZUvm_TekjHdJf87a0PC3RjlfY6iC1sOtuhs79dyvC0S6Q3Y5ubQ",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w"
}
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: Received callback with code and state
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Authorization code (first 20 chars): AQSkR_pI9g6HIHBdJKAq...
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: State parameter: SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Full callback params: %{
  "code" => "AQSkR_pI9g6HIHBdJKAqUsUkJhcENfBTxYk2UbKptnEva-tnHfUll1F6wegter4EQLkiVeF4dN7l846qriOzCPlQg5lg4dYyh4CIW6zpCFuG7McJv6MGtFicRbckqGKZUhmH0SgdnU4U1Yh8w0MCIwatrLXjjYgfZUvm_TekjHdJf87a0PC3RjlfY6iC1sOtuhs79dyvC0S6Q3Y5ubQ",
  "provider" => "linkedin",
  "state" => "SFMyNTY.g2gDdAAAAAJtAAAABW5vbmNlbQAAABZEcTh6NUQyc2FPdmdublJJcDIxeEFnbQAAAAl0aW1lc3RhbXBiaKwvGm4GADj-l-CYAWIAAVGA.e3143VowmRohFgke0ORh7FsqvG2m7YKdCpbmMFXRi_w"
}
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Request headers: %{
  "accept" => "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
  "accept-encoding" => "gzip, deflate, br, zstd",
  "accept-language" => "en-US,en;q=0.9,pl;q=0.8",
  "cache-control" => "no-cache",
  "connection" => "keep-alive",
  "host" => "localhost:4000",
  "pragma" => "no-cache",
  "referer" => "http://localhost:4000/",
  "sec-ch-ua" => "\"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"",
  "sec-ch-ua-mobile" => "?0",
  "sec-ch-ua-platform" => "\"macOS\"",
  "sec-fetch-dest" => "document",
  "sec-fetch-mode" => "navigate",
  "sec-fetch-site" => "cross-site",
  "upgrade-insecure-requests" => "1",
  "user-agent" => "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth state verified successfully
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: Starting authentication flow
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: Token exchange attempt 1/3
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Token exchange request parameters: [
  code: "AQSkR_pI9g6HIHBdJKAqUsUkJhcENfBTxYk2UbKptnEva-tnHfUll1F6wegter4EQLkiVeF4dN7l846qriOzCPlQg5lg4dYyh4CIW6zpCFuG7McJv6MGtFicRbckqGKZUhmH0SgdnU4U1Yh8w0MCIwatrLXjjYgfZUvm_TekjHdJf87a0PC3RjlfY6iC1sOtuhs79dyvC0S6Q3Y5ubQ",
  grant_type: "authorization_code",
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw=="
]
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Making token request to: https://www.linkedin.com/oauth/v2/accessToken
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Client ID: 77es95oq72tify
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Redirect URI: http://localhost:4000/auth/linkedin/callback
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: Token exchange successful on attempt 1
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Received token: %OAuth2.AccessToken{
  access_token: "AQXQReefuaveJsEHyLHrRYlJUJhtZnmdfsZfjgddsolkNTiW-qVWe9USh7kHU9Xdq1jtjraZsyqkeNKlbTSU65DVXzGdn7eUX6_F2hULWuRzbAkWYSkGAw65PUSKa1Whdu5zLHZr77kC7u9Agt9STxcj0D8Tjs8BJZ8pgJNyB-dH4cD4SgJXwZ4U1fC3-8WeRciGx6BIPIt74rPc92tzCUXxpJS6oMt21j6_wrGyPUf_WzsGpA4B0rUM1sOjSNGIUSo8UrvoLxwNhEGrg4H4nfM7GPDcl5zqibmesEpsdx_jHyaWOo6oPIvJDvfucAjKvlHYLj2rdXbfN_9SQhVUrQLn8niOLQ",
  refresh_token: nil,
  expires_at: 1761298713,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDcxNCwiZXhwIjoxNzU2MTE4MzE0LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.KwUjCLnU0POHv7_Z4SPLQEzFysLl7da1qvv2eSTS1n1830zMhaSQSbWJm4gEXqccWPrWWsXYLBRoQa2NTD_ohsbdsMJr2OKaZai9BeE-QxWLM2uNcUFMA6-4nILPWuCVNTWZZ5XEzCJRTvdL-j3-I5F-hzrfSIt357ZHcu8G_KsndiDUT4gWX4VDIZU6cy-nD3ZL5Af9b56u-1bvvxq5OCINpHs9tOokutxIWRDlUcceUGW4GeVqQbHjkAyXtKqCnbaKHo0oA1KLBn_ibtxB-SHnYug-CUcrVdbo4StfTdzoJo6yvby3PzSRVXR7eutzA6ca-lIEgDwurx8fwWL4ejd2POlXPoYNGHthHD4kYq9vRGH7fRwWeYM7mfxmuAEExZMYgLVMb9YoAniV1s4is_ULqsC0nivVvRnYB9OCGZvwb23SoP3CVw9sT1M9uMqkcRfsxplmDBENqr5SJPKYtc58WM86Os62hnfUYZ7QThSULd8nICx2u4xT7gNNaibkYRNjwkYzE36wVtkRInzYv8SPzM3jbdIO7RTcv2YwJVycGXnDRPiy4dH_-shQ8gllGMIJtqrr-k7HSuxvuTfMLUYY7IS4nmMemY8ObhxtXb2M6KZN4CROcfftfl6nv1js6PB-qC4CHVbqMe9fOEUwgpftvUVqA2XR82xwvcvKT6s",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Full client result: %OAuth2.Client{
  authorize_url: "https://www.linkedin.com/oauth/v2/authorization",
  client_id: "77es95oq72tify",
  client_secret: "WPL_AP1.okqW0Aw0MhW01D28.KX0ypw==",
  headers: [],
  params: %{},
  redirect_uri: "http://localhost:4000/auth/linkedin/callback",
  ref: nil,
  request_opts: [],
  serializers: %{"application/json" => Jason},
  site: "https://www.linkedin.com",
  strategy: OAuth2.Strategy.AuthCode,
  token: %OAuth2.AccessToken{
    access_token: "AQXQReefuaveJsEHyLHrRYlJUJhtZnmdfsZfjgddsolkNTiW-qVWe9USh7kHU9Xdq1jtjraZsyqkeNKlbTSU65DVXzGdn7eUX6_F2hULWuRzbAkWYSkGAw65PUSKa1Whdu5zLHZr77kC7u9Agt9STxcj0D8Tjs8BJZ8pgJNyB-dH4cD4SgJXwZ4U1fC3-8WeRciGx6BIPIt74rPc92tzCUXxpJS6oMt21j6_wrGyPUf_WzsGpA4B0rUM1sOjSNGIUSo8UrvoLxwNhEGrg4H4nfM7GPDcl5zqibmesEpsdx_jHyaWOo6oPIvJDvfucAjKvlHYLj2rdXbfN_9SQhVUrQLn8niOLQ",
    refresh_token: nil,
    expires_at: 1761298713,
    token_type: "Bearer",
    other_params: %{
      "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDcxNCwiZXhwIjoxNzU2MTE4MzE0LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.KwUjCLnU0POHv7_Z4SPLQEzFysLl7da1qvv2eSTS1n1830zMhaSQSbWJm4gEXqccWPrWWsXYLBRoQa2NTD_ohsbdsMJr2OKaZai9BeE-QxWLM2uNcUFMA6-4nILPWuCVNTWZZ5XEzCJRTvdL-j3-I5F-hzrfSIt357ZHcu8G_KsndiDUT4gWX4VDIZU6cy-nD3ZL5Af9b56u-1bvvxq5OCINpHs9tOokutxIWRDlUcceUGW4GeVqQbHjkAyXtKqCnbaKHo0oA1KLBn_ibtxB-SHnYug-CUcrVdbo4StfTdzoJo6yvby3PzSRVXR7eutzA6ca-lIEgDwurx8fwWL4ejd2POlXPoYNGHthHD4kYq9vRGH7fRwWeYM7mfxmuAEExZMYgLVMb9YoAniV1s4is_ULqsC0nivVvRnYB9OCGZvwb23SoP3CVw9sT1M9uMqkcRfsxplmDBENqr5SJPKYtc58WM86Os62hnfUYZ7QThSULd8nICx2u4xT7gNNaibkYRNjwkYzE36wVtkRInzYv8SPzM3jbdIO7RTcv2YwJVycGXnDRPiy4dH_-shQ8gllGMIJtqrr-k7HSuxvuTfMLUYY7IS4nmMemY8ObhxtXb2M6KZN4CROcfftfl6nv1js6PB-qC4CHVbqMe9fOEUwgpftvUVqA2XR82xwvcvKT6s",
      "scope" => "email,openid,profile"
    }
  },
  token_method: :post,
  token_url: "https://www.linkedin.com/oauth/v2/accessToken"
}
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: User info fetch attempt 1/3
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Making user info request to: https://api.linkedin.com/v2/userinfo
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Request headers: [
  {"Authorization",
   "Bearer AQXQReefuaveJsEHyLHrRYlJUJhtZnmdfsZfjgddsolkNTiW-qVWe9USh7kHU9Xdq1jtjraZsyqkeNKlbTSU65DVXzGdn7eUX6_F2hULWuRzbAkWYSkGAw65PUSKa1Whdu5zLHZr77kC7u9Agt9STxcj0D8Tjs8BJZ8pgJNyB-dH4cD4SgJXwZ4U1fC3-8WeRciGx6BIPIt74rPc92tzCUXxpJS6oMt21j6_wrGyPUf_WzsGpA4B0rUM1sOjSNGIUSo8UrvoLxwNhEGrg4H4nfM7GPDcl5zqibmesEpsdx_jHyaWOo6oPIvJDvfucAjKvlHYLj2rdXbfN_9SQhVUrQLn8niOLQ"}
]
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Access token (first 20 chars): AQXQReefuaveJsEHyLHr...
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: User info fetch successful on attempt 1
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: User info response headers: [
  {"Content-Type", "application/json"},
  {"x-restli-protocol-version", "1.0.0"},
  {"Date", "Mon, 25 Aug 2025 09:38:35 GMT"},
  {"Transfer-Encoding", "chunked"},
  {"Connection", "keep-alive"},
  {"X-Li-Fabric", "prod-lva1"},
  {"X-Li-Pop", "prod-lva1-x"},
  {"X-LI-Proto", "http/1.1"},
  {"X-LI-UUID", "AAY9LVHEdfQzbotEhtxEHw=="},
  {"Set-Cookie",
   "bcookie=\"v=2&1f81a299-d222-4961-872c-c8ef10bdbedf\"; Domain=.linkedin.com; Expires=Tue, 25-Aug-2026 09:38:35 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "li_gc=MTswOzE3NTYxMTQ3MTQ7MjswMjFz5kDfP2wAPGjRcFQxBHiPoZIIEVNhjH+L0USJWN8Blw==; Domain=.linkedin.com; Expires=Sat, 21 Feb 2026 09:38:34 GMT; Path=/; Secure; SameSite=None"},
  {"Set-Cookie",
   "lidc=\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114714:t=1756137693:v=2:sig=AQEHjmFs-W7VfSST_sBnIFlrl7BaShrd\""},
  {"X-LI-Route-Key",
   "\"b=VB81:s=V:r=V:a=V:p=V:g=3866:u=428:x=1:i=1756114714:t=1756137693:v=2:sig=AQEHjmFs-W7VfSST_sBnIFlrl7BaShrd\""}
]
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: User info response body: {"sub":"Ssxx_xIIFl","email_verified":true,"name":"Paweł Miżwa","locale":{"country":"PL","language":"pl"},"given_name":"Paweł","family_name":"Miżwa","email":"pawel.mizwa@gmail.com","picture":"https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4"}
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Decoded user info: %{
  "email" => "pawel.mizwa@gmail.com",
  "email_verified" => true,
  "family_name" => "Miżwa",
  "given_name" => "Paweł",
  "locale" => %{"country" => "PL", "language" => "pl"},
  "name" => "Paweł Miżwa",
  "picture" => "https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4",
  "sub" => "Ssxx_xIIFl"
}
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth: Authentication successful for pawel.mizwa@gmail.com
request_id=GF75B0_9hzAuevYAAEkh [info] LinkedIn OAuth authentication successful for pawel.mizwa@gmail.com
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Complete user info received: %{
  "email" => "pawel.mizwa@gmail.com",
  "email_verified" => true,
  "family_name" => "Miżwa",
  "given_name" => "Paweł",
  "locale" => %{"country" => "PL", "language" => "pl"},
  "name" => "Paweł Miżwa",
  "picture" => "https://media.licdn.com/dms/image/v2/D4D03AQHx4gNzVZwbag/profile-displayphoto-shrink_800_800/B4DZRz6P49HYAg-/0/1737111437285?e=1758758400&v=beta&t=5-7iJR94h2OVKuNh83ka-d2NIR7OTMqXVUZUONbl5Z4",
  "sub" => "Ssxx_xIIFl"
}
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Token info: %OAuth2.AccessToken{
  access_token: "AQXQReefuaveJsEHyLHrRYlJUJhtZnmdfsZfjgddsolkNTiW-qVWe9USh7kHU9Xdq1jtjraZsyqkeNKlbTSU65DVXzGdn7eUX6_F2hULWuRzbAkWYSkGAw65PUSKa1Whdu5zLHZr77kC7u9Agt9STxcj0D8Tjs8BJZ8pgJNyB-dH4cD4SgJXwZ4U1fC3-8WeRciGx6BIPIt74rPc92tzCUXxpJS6oMt21j6_wrGyPUf_WzsGpA4B0rUM1sOjSNGIUSo8UrvoLxwNhEGrg4H4nfM7GPDcl5zqibmesEpsdx_jHyaWOo6oPIvJDvfucAjKvlHYLj2rdXbfN_9SQhVUrQLn8niOLQ",
  refresh_token: nil,
  expires_at: 1761298713,
  token_type: "Bearer",
  other_params: %{
    "id_token" => "eyJ6aXAiOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ5Mjk2NjhhLWJhYjEtNGM2OS05NTk4LTQzNzMxNDk3MjNmZiIsImFsZyI6IlJTMjU2In0.eyJpc3MiOiJodHRwczovL3d3dy5saW5rZWRpbi5jb20vb2F1dGgiLCJhdWQiOiI3N2VzOTVvcTcydGlmeSIsImlhdCI6MTc1NjExNDcxNCwiZXhwIjoxNzU2MTE4MzE0LCJzdWIiOiJTc3h4X3hJSUZsIiwibmFtZSI6IlBhd2XFgiBNacW8d2EiLCJnaXZlbl9uYW1lIjoiUGF3ZcWCIiwiZmFtaWx5X25hbWUiOiJNacW8d2EiLCJwaWN0dXJlIjoiaHR0cHM6Ly9tZWRpYS5saWNkbi5jb20vZG1zL2ltYWdlL3YyL0Q0RDAzQVFIeDRnTnpWWndiYWcvcHJvZmlsZS1kaXNwbGF5cGhvdG8tc2hyaW5rXzgwMF84MDAvQjREWlJ6NlA0OUhZQWctLzAvMTczNzExMTQzNzI4NT9lPTE3NTg3NTg0MDAmdj1iZXRhJnQ9NS03aUpSOTRoMk9WS3VOaDgza2EtZDJOSVI3T1RNcVhWVVpVT05ibDVaNCIsImVtYWlsIjoicGF3ZWwubWl6d2FAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJ0cnVlIiwibG9jYWxlIjoicGxfUEwifQ.KwUjCLnU0POHv7_Z4SPLQEzFysLl7da1qvv2eSTS1n1830zMhaSQSbWJm4gEXqccWPrWWsXYLBRoQa2NTD_ohsbdsMJr2OKaZai9BeE-QxWLM2uNcUFMA6-4nILPWuCVNTWZZ5XEzCJRTvdL-j3-I5F-hzrfSIt357ZHcu8G_KsndiDUT4gWX4VDIZU6cy-nD3ZL5Af9b56u-1bvvxq5OCINpHs9tOokutxIWRDlUcceUGW4GeVqQbHjkAyXtKqCnbaKHo0oA1KLBn_ibtxB-SHnYug-CUcrVdbo4StfTdzoJo6yvby3PzSRVXR7eutzA6ca-lIEgDwurx8fwWL4ejd2POlXPoYNGHthHD4kYq9vRGH7fRwWeYM7mfxmuAEExZMYgLVMb9YoAniV1s4is_ULqsC0nivVvRnYB9OCGZvwb23SoP3CVw9sT1M9uMqkcRfsxplmDBENqr5SJPKYtc58WM86Os62hnfUYZ7QThSULd8nICx2u4xT7gNNaibkYRNjwkYzE36wVtkRInzYv8SPzM3jbdIO7RTcv2YwJVycGXnDRPiy4dH_-shQ8gllGMIJtqrr-k7HSuxvuTfMLUYY7IS4nmMemY8ObhxtXb2M6KZN4CROcfftfl6nv1js6PB-qC4CHVbqMe9fOEUwgpftvUVqA2XR82xwvcvKT6s",
    "scope" => "email,openid,profile"
  }
}
request_id=GF75B0_9hzAuevYAAEkh [info] Processing LinkedIn user: pawel.mizwa@gmail.com
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Extracted email: pawel.mizwa@gmail.com
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Extracted name: Paweł Miżwa
request_id=GF75B0_9hzAuevYAAEkh [debug] LinkedIn OAuth: Extracted username: Ssxx_xIIFl
request_id=GF75B0_9hzAuevYAAEkh [debug] QUERY OK source="users" db=3.6ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE ((u0."email" = 'pawel.mizwa@gmail.com')) OR (u0."unconfirmed_email" = 'pawel.mizwa@gmail.com')
request_id=GF75B0_9hzAuevYAAEkh [info] Found existing user for pawel.mizwa@gmail.com
request_id=GF75B0_9hzAuevYAAEkh [debug] QUERY OK source="guardian_tokens" db=2.8ms
INSERT INTO "guardian_tokens" ("exp","sub","claims","aud","iss","jti","jwt","typ","inserted_at","updated_at") VALUES (1761298715,'User:41','{"aud":"mobilizon","exp":1761298715,"iat":1756114715,"iss":"mobilizon","jti":"bc598ff5-62fd-4c69-b160-26191f71cbbd","nbf":1756114714,"sub":"User:41","typ":"refresh"}','mobilizon','mobilizon','bc598ff5-62fd-4c69-b160-26191f71cbbd','eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg3MTUsImlhdCI6MTc1NjExNDcxNSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiYmM1OThmZjUtNjJmZC00YzY5LWIxNjAtMjYxOTFmNzFjYmJkIiwibmJmIjoxNzU2MTE0NzE0LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.LuE1HpfQkxybgkpt7VmwdlwUrdMvhokRDhHXwuY_3vqbg3-PAqpx5AtqyUdI_hlawbkvxeAaTkg4Q5O2MbK3SA','refresh','2025-08-25 09:38:35','2025-08-25 09:38:35')
request_id=GF75B0_9hzAuevYAAEkh [info] Successfully generated tokens for user "pawel.mizwa@gmail.com" through linkedin
request_id=GF75B0_9hzAuevYAAEkh [info] Sent 200 in 618ms
request_id=GF75B407QEMuevYAAElB [info] GET /.well-known/appspecific/com.chrome.devtools.json
request_id=GF75B407QEMuevYAAElB [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => [".well-known", "appspecific", "com.chrome.devtools.json"]}
  Pipelines: [:browser]
request_id=GF75B407QEMuevYAAElB [debug] Locale detected is en
request_id=GF75B407QEMuevYAAElB [info] Sent 200 in 1ms
request_id=GF75B6QqRBRpEcYAAElh [info] GET /manifest.webmanifest
request_id=GF75B6QqRBRpEcYAAElh [debug] Processing with Mobilizon.Web.ManifestController.manifest/2
  Parameters: %{}
  Pipelines: []
request_id=GF75B6QqRBRpEcYAAElh [info] Sent 200 in 231µs
request_id=GF75B6rP5j7SEncAABrC [info] POST /api
request_id=GF75B6rQAzcuevYAAEmh [info] POST /api
request_id=GF75B6rP5j7SEncAABrC [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Registrations", "query" => "query Registrations {\n  config {\n    registrationsOpen\n    registrationsAllowlist\n    auth {\n      databaseLogin\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75B6rP5j7SEncAABrC [debug] Locale detected is en
request_id=GF75B6rP5j7SEncAABrC [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Registrations {
  config {
    registrationsOpen
    registrationsAllowlist
    auth {
      databaseLogin
      __typename
    }
    __typename
  }
}
---
request_id=GF75B6rQAzcuevYAAEmh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FullConfig", "query" => "query FullConfig {\n  config {\n    name\n    description\n    slogan\n    version\n    registrationsOpen\n    registrationsAllowlist\n    demoMode\n    longEvents\n    durationOfLongEvent\n    countryCode\n    languages\n    primaryColor\n    secondaryColor\n    instanceLogo {\n      url\n      __typename\n    }\n    defaultPicture {\n      uuid\n      url\n      name\n      metadata {\n        width\n        height\n        blurhash\n        __typename\n      }\n      __typename\n    }\n    eventCategories {\n      id\n      label\n      __typename\n    }\n    anonymous {\n      participation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      eventCreation {\n        allowed\n        validation {\n          email {\n            enabled\n            confirmationRequired\n            __typename\n          }\n          captcha {\n            enabled\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      reports {\n        allowed\n        __typename\n      }\n      actorId\n      __typename\n    }\n    location {\n      latitude\n      longitude\n      __typename\n    }\n    maps {\n      tiles {\n        endpoint\n        attribution\n        __typename\n      }\n      routing {\n        type\n        __typename\n      }\n      __typename\n    }\n    geocoding {\n      provider\n      autocomplete\n      __typename\n    }\n    resourceProviders {\n      type\n      endpoint\n      software\n      __typename\n    }\n    features {\n      groups\n      eventCreation\n      eventExternal\n      antispam\n      __typename\n    }\n    restrictions {\n      onlyAdminCanCreateGroups\n      onlyGroupsCanCreateEvents\n      __typename\n    }\n    auth {\n      ldap\n      databaseLogin\n      oauthProviders {\n        id\n        label\n        __typename\n      }\n      __typename\n    }\n    uploadLimits {\n      default\n      avatar\n      banner\n      __typename\n    }\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    webPush {\n      enabled\n      publicKey\n      __typename\n    }\n    analytics {\n      id\n      enabled\n      configuration {\n        key\n        value\n        type\n        __typename\n      }\n      __typename\n    }\n    search {\n      global {\n        isEnabled\n        isDefault\n        __typename\n      }\n      __typename\n    }\n    exportFormats {\n      eventParticipants\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75B6rQAzcuevYAAEmh [debug] Locale detected is en
request_id=GF75B6rQAzcuevYAAEmh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query FullConfig {
  config {
    name
    description
    slogan
    version
    registrationsOpen
    registrationsAllowlist
    demoMode
    longEvents
    durationOfLongEvent
    countryCode
    languages
    primaryColor
    secondaryColor
    instanceLogo {
      url
      __typename
    }
    defaultPicture {
      uuid
      url
      name
      metadata {
        width
        height
        blurhash
        __typename
      }
      __typename
    }
    eventCategories {
      id
      label
      __typename
    }
    anonymous {
      participation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      eventCreation {
        allowed
        validation {
          email {
            enabled
            confirmationRequired
            __typename
          }
          captcha {
            enabled
            __typename
          }
          __typename
        }
        __typename
      }
      reports {
        allowed
        __typename
      }
      actorId
      __typename
    }
    location {
      latitude
      longitude
      __typename
    }
    maps {
      tiles {
        endpoint
        attribution
        __typename
      }
      routing {
        type
        __typename
      }
      __typename
    }
    geocoding {
      provider
      autocomplete
      __typename
    }
    resourceProviders {
      type
      endpoint
      software
      __typename
    }
    features {
      groups
      eventCreation
      eventExternal
      antispam
      __typename
    }
    restrictions {
      onlyAdminCanCreateGroups
      onlyGroupsCanCreateEvents
      __typename
    }
    auth {
      ldap
      databaseLogin
      oauthProviders {
        id
        label
        __typename
      }
      __typename
    }
    uploadLimits {
      default
      avatar
      banner
      __typename
    }
    instanceFeeds {
      enabled
      __typename
    }
    webPush {
      enabled
      publicKey
      __typename
    }
    analytics {
      id
      enabled
      configuration {
        key
        value
        type
        __typename
      }
      __typename
    }
    search {
      global {
        isEnabled
        isDefault
        __typename
      }
      __typename
    }
    exportFormats {
      eventParticipants
      __typename
    }
    __typename
  }
}
---
request_id=GF75B6rP5j7SEncAABrC graphql_operation_name=Registrations [info] Sent 200 in 981µs
request_id=GF75B6rQAzcuevYAAEmh graphql_operation_name=FullConfig [info] Sent 200 in 4ms
request_id=GF75B8XGZ0LSEncAABsi [info] POST /api
request_id=GF75B8XGZ0LSEncAABsi [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "About", "query" => "query About {\n  config {\n    name\n    description\n    longDescription\n    slogan\n    contact\n    languages\n    registrationsOpen\n    registrationsAllowlist\n    anonymous {\n      participation {\n        allowed\n        __typename\n      }\n      __typename\n    }\n    version\n    federating\n    instanceFeeds {\n      enabled\n      __typename\n    }\n    __typename\n  }\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75B8XGZ0LSEncAABsi [debug] Locale detected is en
request_id=GF75B8XGZ0LSEncAABsi [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query About {
  config {
    name
    description
    longDescription
    slogan
    contact
    languages
    registrationsOpen
    registrationsAllowlist
    anonymous {
      participation {
        allowed
        __typename
      }
      __typename
    }
    version
    federating
    instanceFeeds {
      enabled
      __typename
    }
    __typename
  }
}
---
request_id=GF75B8XGZ0LSEncAABsi graphql_operation_name=About [info] Sent 200 in 1ms
request_id=GF75B9boAcfSEncAAEph [info] POST /api
request_id=GF75B9boAcfSEncAAEph [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Identities", "query" => "query Identities {\n  loggedUser {\n    id\n    actors {\n      ...ActorFragment\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75B9boAcfSEncAAEph [debug] [Guardian] Called on_verify
request_id=GF75B9boAcfSEncAAEph [debug] Receiving claim for user 41
request_id=GF75B9boAcfSEncAAEph [debug] QUERY OK source="users" db=1.9ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75B9boAcfSEncAAEph [debug] QUERY OK source="actors" db=2.1ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75B9boAcfSEncAAEph [debug] Locale detected is en
request_id=GF75B9boAcfSEncAAEph [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query Identities {
  loggedUser {
    id
    actors {
      ...ActorFragment
      __typename
    }
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
[debug] QUERY OK source="actors" db=2.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75B9boAcfSEncAAEph graphql_operation_name=Identities [info] Sent 200 in 9ms
request_id=GF75B98Pazht_14AAErB [info] POST /api
request_id=GF75B98PeJGBOD4AABuC [info] POST /api
request_id=GF75B98SprLzm3wAAErh [info] POST /api
request_id=GF75B98T3t4uevYAAEsB [info] POST /api
request_id=GF75B98PeJGBOD4AABuC [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoggedUserMemberships", "query" => "query LoggedUserMemberships($membershipName: String, $page: Int, $limit: Int) {\n  loggedUser {\n    id\n    memberships(name: $membershipName, page: $page, limit: $limit) {\n      total\n      elements {\n        id\n        role\n        actor {\n          ...ActorFragment\n          __typename\n        }\n        parent {\n          ...ActorFragment\n          organizedEvents {\n            elements {\n              id\n              title\n              picture {\n                uuid\n                url\n                __typename\n              }\n              __typename\n            }\n            total\n            __typename\n          }\n          __typename\n        }\n        invitedBy {\n          ...ActorFragment\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"limit" => 6}}
  Pipelines: [:graphql]
request_id=GF75B98T3t4uevYAAEsB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "LoggedUserQuery", "query" => "query LoggedUserQuery {\n  loggedUser {\n    id\n    email\n    defaultActor {\n      ...ActorFragment\n      __typename\n    }\n    provider\n    __typename\n  }\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{}}
  Pipelines: [:graphql]
request_id=GF75B98T3t4uevYAAEsB [debug] [Guardian] Called on_verify
request_id=GF75B98PeJGBOD4AABuC [debug] [Guardian] Called on_verify
request_id=GF75B98T3t4uevYAAEsB [debug] Receiving claim for user 41
request_id=GF75B98PeJGBOD4AABuC [debug] Receiving claim for user 41
request_id=GF75B98SprLzm3wAAErh [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "HomeUserQueries", "query" => "query HomeUserQueries($afterDateTime: DateTime, $beforeDateTime: DateTime, $page: Int, $limit: Int) {\n  loggedUser {\n    id\n    locale\n    settings {\n      ...UserSettingFragment\n      __typename\n    }\n    participations(\n      afterDatetime: $afterDateTime\n      beforeDatetime: $beforeDateTime\n      page: $page\n      limit: $limit\n    ) {\n      total\n      elements {\n        event {\n          id\n          uuid\n          title\n          picture {\n            uuid\n            url\n            alt\n            __typename\n          }\n          beginsOn\n          status\n          visibility\n          language\n          organizerActor {\n            ...ActorFragment\n            __typename\n          }\n          attributedTo {\n            ...ActorFragment\n            __typename\n          }\n          participantStats {\n            going\n            notApproved\n            participant\n            __typename\n          }\n          options {\n            ...EventOptions\n            __typename\n          }\n          tags {\n            ...TagFragment\n            __typename\n          }\n          __typename\n        }\n        id\n        role\n        actor {\n          ...ActorFragment\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    followedGroupEvents {\n      total\n      elements {\n        profile {\n          id\n          __typename\n        }\n        group {\n          ...ActorFragment\n          __typename\n        }\n        event {\n          id\n          uuid\n          title\n          beginsOn\n          status\n          picture {\n            url\n            __typename\n          }\n          language\n          attributedTo {\n            ...ActorFragment\n            __typename\n          }\n          organizerActor {\n            ...ActorFragment\n            __typename\n          }\n          options {\n            ...EventOptions\n            __typename\n          }\n          physicalAddress {\n            ...AdressFragment\n            __typename\n          }\n          tags {\n            ...TagFragment\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment UserSettingFragment on UserSettings {\n  timezone\n  notificationOnDay\n  notificationEachWeek\n  notificationBeforeEvent\n  notificationPendingParticipation\n  notificationPendingMembership\n  groupNotifications\n  location {\n    range\n    geohash\n    name\n    __typename\n  }\n  __typename\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"afterDateTime" => "2025-08-25T09:38:36.634Z"}}
  Pipelines: [:graphql]
request_id=GF75B98SprLzm3wAAErh [debug] [Guardian] Called on_verify
request_id=GF75B98Pazht_14AAErB [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75B98SprLzm3wAAErh [debug] Receiving claim for user 41
request_id=GF75B98Pazht_14AAErB [debug] [Guardian] Called on_verify
request_id=GF75B98Pazht_14AAErB [debug] Receiving claim for user 41
request_id=GF75B98PeJGBOD4AABuC [debug] QUERY OK source="users" db=1.5ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75B98T3t4uevYAAEsB [debug] QUERY OK source="users" db=1.5ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75B98SprLzm3wAAErh [debug] QUERY OK source="users" db=1.0ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75B98Pazht_14AAErB [debug] QUERY OK source="users" db=0.8ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75B98SprLzm3wAAErh [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75B98SprLzm3wAAErh [debug] Locale detected is en
request_id=GF75B98SprLzm3wAAErh [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"afterDateTime" => "2025-08-25T09:38:36.634Z"}
---
query HomeUserQueries($afterDateTime: DateTime, $beforeDateTime: DateTime, $page: Int, $limit: Int) {
  loggedUser {
    id
    locale
    settings {
      ...UserSettingFragment
      __typename
    }
    participations(
      afterDatetime: $afterDateTime
      beforeDatetime: $beforeDateTime
      page: $page
      limit: $limit
    ) {
      total
      elements {
        event {
          id
          uuid
          title
          picture {
            uuid
            url
            alt
            __typename
          }
          beginsOn
          status
          visibility
          language
          organizerActor {
            ...ActorFragment
            __typename
          }
          attributedTo {
            ...ActorFragment
            __typename
          }
          participantStats {
            going
            notApproved
            participant
            __typename
          }
          options {
            ...EventOptions
            __typename
          }
          tags {
            ...TagFragment
            __typename
          }
          __typename
        }
        id
        role
        actor {
          ...ActorFragment
          __typename
        }
        __typename
      }
      __typename
    }
    followedGroupEvents {
      total
      elements {
        profile {
          id
          __typename
        }
        group {
          ...ActorFragment
          __typename
        }
        event {
          id
          uuid
          title
          beginsOn
          status
          picture {
            url
            __typename
          }
          language
          attributedTo {
            ...ActorFragment
            __typename
          }
          organizerActor {
            ...ActorFragment
            __typename
          }
          options {
            ...EventOptions
            __typename
          }
          physicalAddress {
            ...AdressFragment
            __typename
          }
          tags {
            ...TagFragment
            __typename
          }
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment UserSettingFragment on UserSettings {
  timezone
  notificationOnDay
  notificationEachWeek
  notificationBeforeEvent
  notificationPendingParticipation
  notificationPendingMembership
  groupNotifications
  location {
    range
    geohash
    name
    __typename
  }
  __typename
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75B98PeJGBOD4AABuC [debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75B98PeJGBOD4AABuC [debug] Locale detected is en
request_id=GF75B98PeJGBOD4AABuC [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"limit" => 6}
---
query LoggedUserMemberships($membershipName: String, $page: Int, $limit: Int) {
  loggedUser {
    id
    memberships(name: $membershipName, page: $page, limit: $limit) {
      total
      elements {
        id
        role
        actor {
          ...ActorFragment
          __typename
        }
        parent {
          ...ActorFragment
          organizedEvents {
            elements {
              id
              title
              picture {
                uuid
                url
                __typename
              }
              __typename
            }
            total
            __typename
          }
          __typename
        }
        invitedBy {
          ...ActorFragment
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75B98T3t4uevYAAEsB [debug] QUERY OK source="actors" db=1.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75B98T3t4uevYAAEsB [debug] Locale detected is en
request_id=GF75B98T3t4uevYAAEsB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{}
---
query LoggedUserQuery {
  loggedUser {
    id
    email
    defaultActor {
      ...ActorFragment
      __typename
    }
    provider
    __typename
  }
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75B98Pazht_14AAErB [debug] QUERY OK source="actors" db=0.9ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75B98Pazht_14AAErB [debug] Locale detected is en
request_id=GF75B98Pazht_14AAErB [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
[debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75B98T3t4uevYAAEsB graphql_operation_name=LoggedUserQuery [info] Sent 200 in 6ms
[debug] QUERY OK db=1.0ms
SELECT count(*) FROM (SELECT sm0."id" AS "id", sm0."role" AS "role", sm0."url" AS "url", sm0."member_since" AS "member_since", sm0."metadata" AS "metadata", sm0."invited_by_id" AS "invited_by_id", sm0."parent_id" AS "parent_id", sm0."actor_id" AS "actor_id", sm0."inserted_at" AS "inserted_at", sm0."updated_at" AS "updated_at" FROM "members" AS sm0 INNER JOIN "actors" AS sa1 ON sm0."actor_id" = sa1."id" WHERE ((sa1."user_id" = 41) AND (sm0."role" != 'not_approved'))) AS s0
[debug] QUERY OK source="members" db=1.7ms
SELECT m0."id", m0."role", m0."url", m0."member_since", m0."metadata", m0."invited_by_id", m0."parent_id", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "members" AS m0 INNER JOIN "actors" AS a1 ON m0."actor_id" = a1."id" WHERE ((a1."user_id" = 41) AND (m0."role" != 'not_approved')) LIMIT 6 OFFSET 0
request_id=GF75B98PeJGBOD4AABuC graphql_operation_name=LoggedUserMemberships [info] Sent 200 in 8ms
[debug] QUERY OK source="actors" db=0.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75B98Pazht_14AAErB [debug] QUERY OK source="actors" db=0.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=7.5ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:36.942172Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=7.3ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:36.942172Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
request_id=GF75B98SprLzm3wAAErh graphql_operation_name=HomeUserQueries [debug] QUERY OK source="user_settings" db=9.2ms
SELECT u0."user_id", u0."timezone", u0."notification_on_day", u0."notification_each_week", u0."notification_before_event", u0."notification_pending_participation", u0."notification_pending_membership", u0."group_notifications", u0."last_notification_sent", u0."location", u0."inserted_at", u0."updated_at" FROM "user_settings" AS u0 WHERE (u0."user_id" = 41)
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=1.2ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="participants" db=2.7ms
SELECT p0."id", p0."role", p0."url", p0."code", p0."metadata", p0."event_id", p0."actor_id", p0."inserted_at", p0."updated_at" FROM "participants" AS p0 INNER JOIN "events" AS e1 ON p0."event_id" = e1."id" INNER JOIN "actors" AS a2 ON p0."actor_id" = a2."id" WHERE ((a2."user_id" = 41) AND (p0."role" != 'not_approved')) AND (e1."begins_on" > '2025-08-25 09:38:36Z') ORDER BY e1."begins_on" LIMIT 10 OFFSET 0
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.9ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
[debug] QUERY OK db=5.8ms
SELECT count(*) FROM (SELECT sp0."id" AS "id", sp0."role" AS "role", sp0."url" AS "url", sp0."code" AS "code", sp0."metadata" AS "metadata", sp0."event_id" AS "event_id", sp0."actor_id" AS "actor_id", sp0."inserted_at" AS "inserted_at", sp0."updated_at" AS "updated_at" FROM "participants" AS sp0 INNER JOIN "events" AS se1 ON sp0."event_id" = se1."id" INNER JOIN "actors" AS sa2 ON sp0."actor_id" = sa2."id" WHERE ((sa2."user_id" = 41) AND (sp0."role" != 'not_approved')) AND (se1."begins_on" > '2025-08-25 09:38:36Z')) AS s0
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.5ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.3ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
[debug] QUERY OK db=4.8ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "participants" AS sp1 ON se0."id" = sp1."event_id" INNER JOIN "actors" AS sa2 ON sp1."actor_id" = sa2."id" INNER JOIN "actors" AS sa3 ON se0."attributed_to_id" = sa3."id" LEFT OUTER JOIN "followers" AS sf4 ON sa3."id" = sf4."target_actor_id" LEFT OUTER JOIN "members" AS sm5 ON sa3."id" = sm5."parent_id" INNER JOIN "actors" AS sa6 ON (sa6."id" = sf4."actor_id") OR (sa6."id" = sm5."actor_id") WHERE (se0."begins_on" > '2025-08-25 09:38:36Z') AND (((sf4."approved" OR sm5."role" = ANY('{member,moderator,administrator,creator}')) AND (sa6."user_id" = 41)) AND (sa2."user_id" != 41))) AS s0
[debug] QUERY OK source="events" db=6.2ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at", p1."id", p1."role", p1."url", p1."code", p1."metadata", p1."event_id", p1."actor_id", p1."inserted_at", p1."updated_at", f4."id", f4."approved", f4."url", f4."notify", f4."inserted_at", f4."updated_at", f4."target_actor_id", f4."actor_id" FROM "events" AS e0 LEFT OUTER JOIN "participants" AS p1 ON e0."id" = p1."event_id" INNER JOIN "actors" AS a2 ON p1."actor_id" = a2."id" INNER JOIN "actors" AS a3 ON e0."attributed_to_id" = a3."id" LEFT OUTER JOIN "followers" AS f4 ON a3."id" = f4."target_actor_id" LEFT OUTER JOIN "members" AS m5 ON a3."id" = m5."parent_id" INNER JOIN "actors" AS a6 ON (a6."id" = f4."actor_id") OR (a6."id" = m5."actor_id") WHERE (e0."begins_on" > '2025-08-25 09:38:36Z') AND (((f4."approved" OR m5."role" = ANY('{member,moderator,administrator,creator}')) AND (a6."user_id" = 41)) AND (a2."user_id" != 41)) LIMIT 10 OFFSET 0
request_id=GF75B98SprLzm3wAAErh graphql_operation_name=HomeUserQueries [info] Sent 200 in 32ms
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [info] Sent 500 in 96ms
request_id=GF75B98Pazht_14AAErB graphql_operation_name=FetchEvents [error] GenServer #PID<0.5853.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:continue, :handle_connection}
State: {%ThousandIsland.Socket{socket: #Port<0.266>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045406209.31858>, start_time: -576459200700526879, start_metadata: %{remote_port: 51162, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045406209.31858>, parent_telemetry_span_context: #Reference<0.30853588.4044881923.5556>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.InitialHandler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true}}
request_id=GF75CAxYncg8208AAE1B [info] GET /
request_id=GF75CAxYncg8208AAE1B [debug] Processing with Mobilizon.Web.PageController.index/2
  Parameters: %{"path" => []}
  Pipelines: [:browser]
request_id=GF75CAxYncg8208AAE1B [debug] Locale detected is en
request_id=GF75CAxYncg8208AAE1B [info] Sent 200 in 792µs
request_id=GF75CK9tiwzzm3wAAE1h [info] POST /api
request_id=GF75CK9tiwzzm3wAAE1h [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "Logout", "query" => "mutation Logout($refreshToken: String!) {\n  logout(refreshToken: $refreshToken)\n}", "variables" => %{"refreshToken" => "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg3MTUsImlhdCI6MTc1NjExNDcxNSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiYmM1OThmZjUtNjJmZC00YzY5LWIxNjAtMjYxOTFmNzFjYmJkIiwibmJmIjoxNzU2MTE0NzE0LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.LuE1HpfQkxybgkpt7VmwdlwUrdMvhokRDhHXwuY_3vqbg3-PAqpx5AtqyUdI_hlawbkvxeAaTkg4Q5O2MbK3SA"}}
  Pipelines: [:graphql]
request_id=GF75CK9tiwzzm3wAAE1h [debug] [Guardian] Called on_verify
request_id=GF75CK9tiwzzm3wAAE1h [debug] Receiving claim for user 41
request_id=GF75CK9tiwzzm3wAAE1h [debug] QUERY OK source="users" db=0.5ms
SELECT u0."id", u0."email", u0."password_hash", u0."role", u0."confirmed_at", u0."confirmation_sent_at", u0."confirmation_token", u0."reset_password_sent_at", u0."reset_password_token", u0."unconfirmed_email", u0."locale", u0."disabled", u0."provider", u0."last_sign_in_at", u0."last_sign_in_ip", u0."current_sign_in_ip", u0."current_sign_in_at", u0."default_actor_id", u0."inserted_at", u0."updated_at" FROM "users" AS u0 WHERE (u0."id" = 41)
request_id=GF75CK9tiwzzm3wAAE1h [debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."user_id" FROM "actors" AS a0 WHERE (a0."user_id" = 41) ORDER BY a0."user_id"
request_id=GF75CK9tiwzzm3wAAE1h [debug] Locale detected is en
request_id=GF75CK9tiwzzm3wAAE1h [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"refreshToken" => "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJtb2JpbGl6b24iLCJleHAiOjE3NjEyOTg3MTUsImlhdCI6MTc1NjExNDcxNSwiaXNzIjoibW9iaWxpem9uIiwianRpIjoiYmM1OThmZjUtNjJmZC00YzY5LWIxNjAtMjYxOTFmNzFjYmJkIiwibmJmIjoxNzU2MTE0NzE0LCJzdWIiOiJVc2VyOjQxIiwidHlwIjoicmVmcmVzaCJ9.LuE1HpfQkxybgkpt7VmwdlwUrdMvhokRDhHXwuY_3vqbg3-PAqpx5AtqyUdI_hlawbkvxeAaTkg4Q5O2MbK3SA"}
---
mutation Logout($refreshToken: String!) {
  logout(refreshToken: $refreshToken)
}
---
[debug] QUERY OK source="actors" db=0.9ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 INNER JOIN "users" AS u1 ON u1."default_actor_id" = a0."id" WHERE (u1."id" = 41)
[debug] QUERY OK source="actors" db=0.6ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."user_id" = 41)
request_id=GF75CK9tiwzzm3wAAE1h [debug] [Guardian] Called on_verify
request_id=GF75CK9tiwzzm3wAAE1h [debug] QUERY OK source="guardian_tokens" db=2.4ms
SELECT g0."jti", g0."typ", g0."aud", g0."iss", g0."sub", g0."exp", g0."jwt", g0."claims", g0."inserted_at", g0."updated_at" FROM "guardian_tokens" AS g0 WHERE ((g0."jti" = 'bc598ff5-62fd-4c69-b160-26191f71cbbd') AND (g0."aud" = 'mobilizon'))
request_id=GF75CK9tiwzzm3wAAE1h [debug] [Guardian] Called on_revoke
request_id=GF75CK9tiwzzm3wAAE1h [debug] QUERY OK source="guardian_tokens" db=0.6ms
SELECT g0."jti", g0."typ", g0."aud", g0."iss", g0."sub", g0."exp", g0."jwt", g0."claims", g0."inserted_at", g0."updated_at" FROM "guardian_tokens" AS g0 WHERE ((g0."jti" = 'bc598ff5-62fd-4c69-b160-26191f71cbbd') AND (g0."aud" = 'mobilizon'))
request_id=GF75CK9tiwzzm3wAAE1h [debug] QUERY OK source="guardian_tokens" db=2.4ms
DELETE FROM "guardian_tokens" WHERE "jti" = 'bc598ff5-62fd-4c69-b160-26191f71cbbd'
request_id=GF75CK9tiwzzm3wAAE1h graphql_operation_name=Logout [info] Sent 200 in 11ms
request_id=GF75CLTSzmeBOD4AABjD [info] POST /api
request_id=GF75CLTSzmeBOD4AABjD [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75CLTSzmeBOD4AABjD [debug] Locale detected is en
request_id=GF75CLTSzmeBOD4AABjD [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75CLTSzmeBOD4AABjD [debug] QUERY OK source="actors" db=0.7ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=1.1ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:40.520962Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=1.2ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:40.520962Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=1.0ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.2ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.2ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.4ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.3ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.2ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [info] Sent 500 in 99ms
request_id=GF75CLTSzmeBOD4AABjD graphql_operation_name=FetchEvents [error] GenServer #PID<0.5697.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.263>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.263>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045406209.15428>, start_time: -576459207783093215, start_metadata: %{remote_port: 44690, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045406209.15428>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9083>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 3}}
request_id=GF75CNakdpfzm3wAABnD [info] POST /api
request_id=GF75CNakdpfzm3wAABnD [debug] Processing with Absinthe.Plug
  Parameters: %{"operationName" => "FetchEvents", "query" => "query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\n  events(\n    location: $location\n    radius: $radius\n    orderBy: $orderBy\n    direction: $direction\n    page: $page\n    limit: $limit\n    longEvents: $longEvents\n  ) {\n    total\n    elements {\n      id\n      uuid\n      url\n      local\n      title\n      description\n      beginsOn\n      endsOn\n      status\n      visibility\n      insertedAt\n      language\n      picture {\n        uuid\n        url\n        __typename\n      }\n      publishAt\n      physicalAddress {\n        ...AdressFragment\n        __typename\n      }\n      organizerActor {\n        ...ActorFragment\n        __typename\n      }\n      attributedTo {\n        ...ActorFragment\n        __typename\n      }\n      category\n      tags {\n        ...TagFragment\n        __typename\n      }\n      options {\n        ...EventOptions\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment AdressFragment on Address {\n  id\n  description\n  geom\n  street\n  locality\n  postalCode\n  region\n  country\n  type\n  url\n  originId\n  timezone\n  pictureInfo {\n    url\n    author {\n      name\n      url\n      __typename\n    }\n    source {\n      name\n      url\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment TagFragment on Tag {\n  id\n  slug\n  title\n  __typename\n}\n\nfragment EventOptions on EventOptions {\n  maximumAttendeeCapacity\n  remainingAttendeeCapacity\n  showRemainingAttendeeCapacity\n  anonymousParticipation\n  hideNumberOfParticipants\n  showStartTime\n  showEndTime\n  timezone\n  offers {\n    price\n    priceCurrency\n    url\n    __typename\n  }\n  participationConditions {\n    title\n    content\n    url\n    __typename\n  }\n  attendees\n  program\n  commentModeration\n  showParticipationPrice\n  hideOrganizerWhenGroupEvent\n  isOnline\n  __typename\n}\n\nfragment ActorFragment on Actor {\n  id\n  avatar {\n    uuid\n    url\n    __typename\n  }\n  type\n  preferredUsername\n  name\n  domain\n  summary\n  url\n  __typename\n}", "variables" => %{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}}
  Pipelines: [:graphql]
request_id=GF75CNakdpfzm3wAABnD [debug] Locale detected is en
request_id=GF75CNakdpfzm3wAABnD [debug] ABSINTHE schema=Mobilizon.GraphQL.Schema variables=%{"direction" => "ASC", "limit" => 93, "location" => "", "longEvents" => false, "orderBy" => "BEGINS_ON", "radius" => 25}
---
query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {
  events(
    location: $location
    radius: $radius
    orderBy: $orderBy
    direction: $direction
    page: $page
    limit: $limit
    longEvents: $longEvents
  ) {
    total
    elements {
      id
      uuid
      url
      local
      title
      description
      beginsOn
      endsOn
      status
      visibility
      insertedAt
      language
      picture {
        uuid
        url
        __typename
      }
      publishAt
      physicalAddress {
        ...AdressFragment
        __typename
      }
      organizerActor {
        ...ActorFragment
        __typename
      }
      attributedTo {
        ...ActorFragment
        __typename
      }
      category
      tags {
        ...TagFragment
        __typename
      }
      options {
        ...EventOptions
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AdressFragment on Address {
  id
  description
  geom
  street
  locality
  postalCode
  region
  country
  type
  url
  originId
  timezone
  pictureInfo {
    url
    author {
      name
      url
      __typename
    }
    source {
      name
      url
      __typename
    }
    __typename
  }
  __typename
}

fragment TagFragment on Tag {
  id
  slug
  title
  __typename
}

fragment EventOptions on EventOptions {
  maximumAttendeeCapacity
  remainingAttendeeCapacity
  showRemainingAttendeeCapacity
  anonymousParticipation
  hideNumberOfParticipants
  showStartTime
  showEndTime
  timezone
  offers {
    price
    priceCurrency
    url
    __typename
  }
  participationConditions {
    title
    content
    url
    __typename
  }
  attendees
  program
  commentModeration
  showParticipationPrice
  hideOrganizerWhenGroupEvent
  isOnline
  __typename
}

fragment ActorFragment on Actor {
  id
  avatar {
    uuid
    url
    __typename
  }
  type
  preferredUsername
  name
  domain
  summary
  url
  __typename
}
---
request_id=GF75CNakdpfzm3wAABnD [debug] QUERY OK source="actors" db=4.1ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."url" = 'http://localhost:4000/relay')
[debug] QUERY OK db=1.6ms
SELECT count(*) FROM (SELECT DISTINCT ON (se0."begins_on", se0."id") se0."id" AS "id", se0."url" AS "url", se0."local" AS "local", se0."begins_on" AS "begins_on", se0."slug" AS "slug", se0."description" AS "description", se0."ends_on" AS "ends_on", se0."title" AS "title", se0."status" AS "status", se0."draft" AS "draft", se0."visibility" AS "visibility", se0."join_options" AS "join_options", se0."external_participation_url" AS "external_participation_url", se0."publish_at" AS "publish_at", se0."uuid" AS "uuid", se0."online_address" AS "online_address", se0."phone_address" AS "phone_address", se0."category" AS "category", se0."language" AS "language", se0."options" AS "options", se0."participant_stats" AS "participant_stats", se0."metadata" AS "metadata", se0."organizer_actor_id" AS "organizer_actor_id", se0."attributed_to_id" AS "attributed_to_id", se0."physical_address_id" AS "physical_address_id", se0."picture_id" AS "picture_id", se0."inserted_at" AS "inserted_at", se0."updated_at" AS "updated_at" FROM "events" AS se0 LEFT OUTER JOIN "shares" AS ss1 ON ss1."uri" = se0."url" LEFT OUTER JOIN "followers" AS sf2 ON sf2."target_actor_id" = ss1."actor_id" WHERE (coalesce(se0."ends_on", se0."begins_on") > '2025-08-25 09:38:41.089310Z') AND ((se0."ends_on" IS NULL) OR (se0."ends_on" <= se0."begins_on" + '1 days'::interval * 30)) AND (se0."visibility" = 'public') AND (se0."draft" = false) AND (se0."status" != 'cancelled') AND ((se0."local" = TRUE) OR ((sf2."actor_id" = 2) AND NOT (ss1."uri" IS NULL)))) AS s0
[debug] QUERY OK source="events" db=4.5ms
SELECT DISTINCT ON (e0."begins_on", e0."id") e0."id", e0."url", e0."local", e0."begins_on", e0."slug", e0."description", e0."ends_on", e0."title", e0."status", e0."draft", e0."visibility", e0."join_options", e0."external_participation_url", e0."publish_at", e0."uuid", e0."online_address", e0."phone_address", e0."category", e0."language", e0."options", e0."participant_stats", e0."metadata", e0."organizer_actor_id", e0."attributed_to_id", e0."physical_address_id", e0."picture_id", e0."inserted_at", e0."updated_at" FROM "events" AS e0 LEFT OUTER JOIN "shares" AS s1 ON s1."uri" = e0."url" LEFT OUTER JOIN "followers" AS f2 ON f2."target_actor_id" = s1."actor_id" WHERE (coalesce(e0."ends_on", e0."begins_on") > '2025-08-25 09:38:41.089310Z') AND ((e0."ends_on" IS NULL) OR (e0."ends_on" <= e0."begins_on" + '1 days'::interval * 30)) AND (e0."visibility" = 'public') AND (e0."draft" = false) AND (e0."status" != 'cancelled') AND ((e0."local" = TRUE) OR ((f2."actor_id" = 2) AND NOT (s1."uri" IS NULL))) ORDER BY e0."begins_on", e0."id" LIMIT 93 OFFSET 0
[debug] QUERY OK source="actors" db=0.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 5)
[debug] QUERY OK source="actors" db=2.4ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", p1."event_id"::bigint FROM "actors" AS a0 INNER JOIN "participants" AS p1 ON a0."id" = p1."actor_id" WHERE (p1."event_id" = ANY('{18,11,14}')) ORDER BY p1."event_id"::bigint
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=3.8ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=1.8ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 14) LIMIT 10 OFFSET 0
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.9ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 5)
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.9ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 11) LIMIT 10 OFFSET 0
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="medias" db=0.6ms
SELECT m0."id", m0."uuid", m0."file", m0."metadata", m0."actor_id", m0."inserted_at", m0."updated_at" FROM "medias" AS m0 WHERE (m0."id" = 21)
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [debug] QUERY OK source="tags" db=0.4ms
SELECT t0."id", t0."title", t0."slug", t0."inserted_at", t0."updated_at" FROM "tags" AS t0 INNER JOIN "events_tags" AS e1 ON t0."id" = e1."tag_id" WHERE (e1."event_id" = 18) LIMIT 10 OFFSET 0
[debug] QUERY OK source="actors" db=0.5ms
SELECT a0."id", a0."url", a0."outbox_url", a0."inbox_url", a0."following_url", a0."followers_url", a0."shared_inbox_url", a0."members_url", a0."resources_url", a0."posts_url", a0."events_url", a0."todos_url", a0."discussions_url", a0."type", a0."name", a0."domain", a0."summary", a0."preferred_username", a0."keys", a0."manually_approves_followers", a0."openness", a0."visibility", a0."suspended", a0."last_refreshed_at", a0."avatar", a0."banner", a0."user_id", a0."physical_address_id", a0."inserted_at", a0."updated_at", a0."id" FROM "actors" AS a0 WHERE (a0."id" = 19)
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [warning] Failed to send Sentry event. Cannot send Sentry event because of invalid DSN
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [info] Sent 500 in 106ms
request_id=GF75CNakdpfzm3wAABnD graphql_operation_name=FetchEvents [error] GenServer #PID<0.5278.0> terminating
** (KeyError) key "allow_all" not found in: %{
  closed: %Absinthe.Type.Enum.Value{
    name: "CLOSED",
    description: "No one can comment except for the admin",
    value: :closed,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  moderated: %Absinthe.Type.Enum.Value{
    name: "MODERATED",
    description: "Every comment has to be moderated by the admin",
    value: :moderated,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  },
  allow_all: %Absinthe.Type.Enum.Value{
    name: "ALLOW_ALL",
    description: "Anyone can comment under the event",
    value: :allow_all,
    deprecation: nil,
    enum_identifier: :event_comment_moderation,
    __reference__: %{
      module: Mobilizon.GraphQL.Schema.EventType,
      location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}
    },
    __private__: []
  }
}
    (erts 14.0.2) :erlang.map_get("allow_all", %{closed: %Absinthe.Type.Enum.Value{name: "CLOSED", description: "No one can comment except for the admin", value: :closed, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 226, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, moderated: %Absinthe.Type.Enum.Value{name: "MODERATED", description: "Every comment has to be moderated by the admin", value: :moderated, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 225, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}, allow_all: %Absinthe.Type.Enum.Value{name: "ALLOW_ALL", description: "Anyone can comment under the event", value: :allow_all, deprecation: nil, enum_identifier: :event_comment_moderation, __reference__: %{module: Mobilizon.GraphQL.Schema.EventType, location: %{line: 224, file: "/workspace/lib/graphql/schema/event.ex"}}, __private__: []}})
    (absinthe 1.7.6) lib/absinthe/type/enum.ex:105: Absinthe.Type.Enum.serialize/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:70: Absinthe.Phase.Document.Result.data/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:86: Absinthe.Phase.Document.Result.list_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:104: Absinthe.Phase.Document.Result.field_data/3
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:22: Absinthe.Phase.Document.Result.process/2
    (absinthe 1.7.6) lib/absinthe/phase/document/result.ex:11: Absinthe.Phase.Document.Result.run/2
    (absinthe 1.7.6) lib/absinthe/pipeline.ex:408: Absinthe.Pipeline.run_phase/3
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:536: Absinthe.Plug.run_query/4
    (absinthe_plug 1.5.8) lib/absinthe/plug.ex:290: Absinthe.Plug.call/2
    (phoenix 1.7.11) lib/phoenix/router/route.ex:42: Phoenix.Router.Route.call/2
    (phoenix 1.7.11) lib/phoenix/router.ex:484: Phoenix.Router.__call__/5
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.plug_builder_call/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint."call (overridable 3)"/2
    (mobilizon 5.1.4) deps/plug/lib/plug/debugger.ex:136: Mobilizon.Web.Endpoint."call (overridable 4)"/2
    (mobilizon 5.1.4) lib/web/endpoint.ex:1: Mobilizon.Web.Endpoint.call/2
    (phoenix 1.7.11) lib/phoenix/endpoint/sync_code_reload_plug.ex:22: Phoenix.Endpoint.SyncCodeReloadPlug.do_call/4
    (bandit 1.2.3) lib/bandit/pipeline.ex:103: Bandit.Pipeline.call_plug/2
    (bandit 1.2.3) lib/bandit/pipeline.ex:24: Bandit.Pipeline.run/6
Last message: {:tcp, #Port<0.251>, "POST /api HTTP/1.1\r\nHost: localhost:4000\r\nConnection: keep-alive\r\nContent-Length: 2333\r\nPragma: no-cache\r\nCache-Control: no-cache\r\nsec-ch-ua-platform: \"macOS\"\r\nauthorization: null\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\r\naccept: */*\r\nsec-ch-ua: \"Not;A=Brand\";v=\"99\", \"Google Chrome\";v=\"139\", \"Chromium\";v=\"139\"\r\ncontent-type: application/json\r\nsec-ch-ua-mobile: ?0\r\nOrigin: http://localhost:4000\r\nSec-Fetch-Site: same-origin\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Dest: empty\r\nReferer: http://localhost:4000/\r\nAccept-Encoding: gzip, deflate, br, zstd\r\nAccept-Language: en-US,en;q=0.9,pl;q=0.8\r\n\r\n{\"operationName\":\"FetchEvents\",\"variables\":{\"orderBy\":\"BEGINS_ON\",\"direction\":\"ASC\",\"longEvents\":false,\"location\":\"\",\"radius\":25,\"limit\":93},\"query\":\"query FetchEvents($location: String, $radius: Float, $orderBy: EventOrderBy, $direction: SortDirection, $page: Int, $limit: Int, $longEvents: Boolean) {\\n  events(\\n    location: $location\\n    radius: $radius\\n    orderBy: $orderBy\\n    direction: $direction\\n    page: $page\\n    limit: $limit\\n    longEvents: $longEvents\\n  ) {\\n    total\\n    elements {\\n      id\\n      uuid\\n      url\\n      local\\n      title\\n      description\\n      beginsOn\\n      endsOn\\n      status\\n      visibility\\n      insertedAt\\n      language\\n      picture {\\n        uuid\\n        url\\n        __typename\\n      }\\n      publishAt\\n     "}
State: {%ThousandIsland.Socket{socket: #Port<0.251>, transport_module: ThousandIsland.Transports.TCP, read_timeout: 60000, silent_terminate_on_error: false, span: %ThousandIsland.Telemetry{span_name: :connection, telemetry_span_context: #Reference<0.30853588.4045144065.248907>, start_time: -576459217582880845, start_metadata: %{remote_port: 57374, remote_address: {127, 0, 0, 1}, telemetry_span_context: #Reference<0.30853588.4045144065.248907>, parent_telemetry_span_context: #Reference<0.30853588.4044881921.9067>}}}, %{opts: %{websocket: [], http_1: [], http_2: []}, plug: {Phoenix.Endpoint.SyncCodeReloadPlug, {Mobilizon.Web.Endpoint, []}}, handler_module: Bandit.HTTP1.Handler, http_1_enabled: true, http_2_enabled: true, websocket_enabled: true, requests_processed: 12}}
